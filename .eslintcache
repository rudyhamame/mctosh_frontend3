[{"C:\\Users\\Rodi\\Documents\\mctosh\\step1-frontend2\\src\\index.js":"1","C:\\Users\\Rodi\\Documents\\mctosh\\step1-frontend2\\src\\AppRouter.js":"2","C:\\Users\\Rodi\\Documents\\mctosh\\step1-frontend2\\src\\Login\\Login.jsx":"3","C:\\Users\\Rodi\\Documents\\mctosh\\step1-frontend2\\src\\App\\App.js":"4","C:\\Users\\Rodi\\Documents\\mctosh\\step1-frontend2\\src\\App\\Main\\Posts\\Posts.jsx":"5","C:\\Users\\Rodi\\Documents\\mctosh\\step1-frontend2\\src\\App\\Main\\Greeting\\Greeting.jsx":"6","C:\\Users\\Rodi\\Documents\\mctosh\\step1-frontend2\\src\\App\\Header\\Header.jsx":"7","C:\\Users\\Rodi\\Documents\\mctosh\\step1-frontend2\\src\\App\\Main\\Terminology\\Terminology.jsx":"8","C:\\Users\\Rodi\\Documents\\mctosh\\step1-frontend2\\src\\App\\Main\\Posts\\InputPost\\SearchPosts\\SearchPosts.jsx":"9","C:\\Users\\Rodi\\Documents\\mctosh\\step1-frontend2\\src\\App\\Main\\Posts\\MountPosts\\MountPosts.jsx":"10","C:\\Users\\Rodi\\Documents\\mctosh\\step1-frontend2\\src\\App\\Footer\\Footer.jsx":"11","C:\\Users\\Rodi\\Documents\\mctosh\\step1-frontend2\\src\\App\\Main\\Posts\\InputPost\\InputPost.jsx":"12","C:\\Users\\Rodi\\Documents\\mctosh\\step1-frontend2\\src\\App\\Header\\Nav\\Nav.jsx":"13","C:\\Users\\Rodi\\Documents\\mctosh\\step1-frontend2\\src\\App\\Header\\SearchUsers\\SearchUsers.jsx":"14","C:\\Users\\Rodi\\Documents\\mctosh\\step1-frontend2\\src\\App\\Header\\Nav\\Menu\\Menu.jsx":"15","C:\\Users\\Rodi\\Documents\\mctosh\\step1-frontend2\\src\\App\\Header\\Nav\\Notifications\\Notifications.jsx":"16","C:\\Users\\Rodi\\Documents\\mctosh\\step1-frontend2\\src\\App\\Header\\Nav\\Dim\\Dim.jsx":"17","C:\\Users\\Rodi\\Documents\\mctosh\\step1-frontend2\\src\\App\\Header\\Nav\\MessengerIcon\\MessengerIcon.jsx":"18","C:\\Users\\Rodi\\Documents\\mctosh\\step1-frontend2\\src\\App\\Header\\Nav\\Profile\\ProfileIcon.jsx":"19","C:\\Users\\Rodi\\Documents\\mctosh\\step1-frontend2\\src\\App\\Header\\Nav\\Logout\\Logout.jsx":"20","C:\\Users\\Rodi\\Documents\\mctosh\\step1-frontend2\\src\\App\\Header\\Nav\\Refresh\\Refresh.jsx":"21","C:\\Users\\Rodi\\Documents\\mctosh\\step1-frontend2\\src\\App\\SubApps\\Chat\\Chat.js":"22","C:\\Users\\Rodi\\Documents\\mctosh\\step1-frontend2\\src\\App\\Parts\\Friends\\Friends.jsx":"23","C:\\Users\\Rodi\\Documents\\mctosh\\step1-frontend2\\src\\App\\Parts\\Friends\\DropHorizontally.jsx":"24","C:\\Users\\Rodi\\Documents\\mctosh\\step1-frontend2\\src\\App\\Parts\\Friends\\FriendsList\\FriendsList.jsx":"25","C:\\Users\\Rodi\\Documents\\mctosh\\step1-frontend2\\src\\App\\Parts\\Friends\\AddFriend\\AddFriend.jsx":"26","C:\\Users\\Rodi\\Documents\\mctosh\\step1-frontend2\\src\\App\\SubApps\\StudyPlannner\\StudyPlanner.js":"27","C:\\Users\\Rodi\\Documents\\mctosh\\step1-frontend2\\src\\App\\SubApps\\StudyPlannner\\components\\LecturesOrganizer.jsx":"28"},{"size":506,"mtime":1626064374000,"results":"29","hashOfConfig":"30"},{"size":581,"mtime":1678735280259,"results":"31","hashOfConfig":"30"},{"size":12563,"mtime":1678655571323,"results":"32","hashOfConfig":"30"},{"size":91987,"mtime":1678848795974,"results":"33","hashOfConfig":"30"},{"size":858,"mtime":1678764361200,"results":"34","hashOfConfig":"30"},{"size":1493,"mtime":1678881518558,"results":"35","hashOfConfig":"30"},{"size":900,"mtime":1642447442000,"results":"36","hashOfConfig":"30"},{"size":7727,"mtime":1642507360000,"results":"37","hashOfConfig":"30"},{"size":7733,"mtime":1642446988000,"results":"38","hashOfConfig":"30"},{"size":489,"mtime":1614663426000,"results":"39","hashOfConfig":"30"},{"size":193,"mtime":1647704422000,"results":"40","hashOfConfig":"30"},{"size":5177,"mtime":1614742644000,"results":"41","hashOfConfig":"30"},{"size":838,"mtime":1678779838992,"results":"42","hashOfConfig":"30"},{"size":970,"mtime":1642438010000,"results":"43","hashOfConfig":"30"},{"size":1959,"mtime":1613467102000,"results":"44","hashOfConfig":"30"},{"size":1809,"mtime":1678843787872,"results":"45","hashOfConfig":"30"},{"size":1621,"mtime":1614191048000,"results":"46","hashOfConfig":"30"},{"size":297,"mtime":1613469194000,"results":"47","hashOfConfig":"30"},{"size":602,"mtime":1614227542000,"results":"48","hashOfConfig":"30"},{"size":1643,"mtime":1642447610000,"results":"49","hashOfConfig":"30"},{"size":338,"mtime":1678843914372,"results":"50","hashOfConfig":"30"},{"size":6770,"mtime":1678770111006,"results":"51","hashOfConfig":"30"},{"size":5527,"mtime":1678769860305,"results":"52","hashOfConfig":"30"},{"size":2276,"mtime":1642445298000,"results":"53","hashOfConfig":"30"},{"size":650,"mtime":1678766836244,"results":"54","hashOfConfig":"30"},{"size":686,"mtime":1642438538000,"results":"55","hashOfConfig":"30"},{"size":10500,"mtime":1678914371403,"results":"56","hashOfConfig":"30"},{"size":490,"mtime":1678779118156,"results":"57","hashOfConfig":"30"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},"ffl9pf",{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"65","usedDeprecatedRules":"60"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":12,"fixableErrorCount":0,"fixableWarningCount":0,"source":"68","usedDeprecatedRules":"60"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"87","usedDeprecatedRules":"60"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"90","messages":"91","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"92","messages":"93","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"94","messages":"95","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"98","messages":"99","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"100","usedDeprecatedRules":"60"},{"filePath":"101","messages":"102","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"103","messages":"104","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"105","messages":"106","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"107","usedDeprecatedRules":"60"},{"filePath":"108","messages":"109","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"110","messages":"111","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"112","messages":"113","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"114","messages":"115","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"116","messages":"117","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"118","messages":"119","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"120","usedDeprecatedRules":"60"},"C:\\Users\\Rodi\\Documents\\mctosh\\step1-frontend2\\src\\index.js",[],["121","122"],"C:\\Users\\Rodi\\Documents\\mctosh\\step1-frontend2\\src\\AppRouter.js",[],"C:\\Users\\Rodi\\Documents\\mctosh\\step1-frontend2\\src\\Login\\Login.jsx",["123"],"import React, { useState } from \"react\";\r\nimport AppRouter from \"../AppRouter\";\r\nimport \"../Login/login.css\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { Redirect, BrowserRouter as Router, Route } from \"react-router-dom\";\r\n\r\nconst Login = () => {\r\n  //.........................STATE.....................................//\r\n  const [is_loading, setIs_loading] = useState(null);\r\n  const [signup_ok, setSignup_ok] = useState(null);\r\n  const [login_ok, setLogin_ok] = useState(null);\r\n  const [authReport, setAuthReport] = useState(null);\r\n\r\n  React.useEffect(() => {\r\n    if (login_ok && authReport) {\r\n      login_listener();\r\n      sessionStorage.setItem(\"state\", JSON.stringify(authReport));\r\n    }\r\n  });\r\n  // //.................................Declaration......................//\r\n\r\n  //.........................formControl & formControl (functions)..........................//\r\n\r\n  const formControl = (text) => {\r\n    let Login_firstname_input = document.getElementById(\r\n      \"Login_firstname_input\"\r\n    );\r\n    let Login_lastname_input = document.getElementById(\"Login_lastname_input\");\r\n    let Login_email_input = document.getElementById(\"Login_email_input\");\r\n    let Login_dob_input = document.getElementById(\"Login_dob_input\");\r\n    let Login_signup_button = document.getElementById(\"Login_signup_button\");\r\n    let Login_login_button = document.getElementById(\"Login_login_button\");\r\n    let Login_loginShow_text = document.getElementById(\"Login_loginShow_text\");\r\n    let Login_signupShow_text = document.getElementById(\r\n      \"Login_signupShow_text\"\r\n    );\r\n    switch (text) {\r\n      case \"signup\":\r\n        setLogin_ok(null);\r\n        Login_firstname_input.style.display = \"initial\";\r\n        Login_lastname_input.style.display = \"initial\";\r\n        Login_email_input.style.display = \"initial\";\r\n        Login_dob_input.style.display = \"initial\";\r\n        Login_signup_button.style.display = \"initial\";\r\n        Login_login_button.style.display = \"none\";\r\n        Login_loginShow_text.style.display = \"initial\";\r\n        Login_signupShow_text.style.display = \"none\";\r\n        break;\r\n\r\n      case \"login\":\r\n        setSignup_ok(null);\r\n        Login_signup_button.style.display = \"none\";\r\n        Login_signupShow_text.style.display = \"initial\";\r\n        Login_login_button.style.display = \"initial\";\r\n        Login_email_input.style.display = \"none\";\r\n        Login_dob_input.style.display = \"none\";\r\n        Login_loginShow_text.style.display = \"none\";\r\n        Login_firstname_input.style.display = \"none\";\r\n        Login_lastname_input.style.display = \"none\";\r\n        break;\r\n    }\r\n  };\r\n\r\n  ////////////////////////////////////////////CHECK AND GET CREDENTIALS//////////////////////////////////////\r\n  const login = (event) => {\r\n    let login;\r\n    // event.preventDefault();\r\n    let Login_username_input = document.getElementById(\"Login_username_input\");\r\n    let Login_password_input = document.getElementById(\"Login_password_input\");\r\n    if (Login_password_input.value && Login_username_input.value) {\r\n      setIs_loading(true);\r\n      let url = \"https://backendstep.onrender.com/api/user/login/\";\r\n      let req = new Request(url, {\r\n        method: \"POST\",\r\n        mode: \"cors\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({\r\n          username: Login_username_input.value,\r\n          password: Login_password_input.value,\r\n        }),\r\n      });\r\n      fetch(req)\r\n        .then((response) => {\r\n          if (response.status === 201) {\r\n            login = true;\r\n            return response.json(response);\r\n          }\r\n          if (response.status === 401) {\r\n            setLogin_ok(false);\r\n            setIs_loading(false);\r\n            return response.json(response);\r\n          }\r\n        })\r\n        .then((userdata) => {\r\n          if (userdata && login === true) {\r\n            setAuthReport({\r\n              my_id: userdata.user._id,\r\n              username: userdata.user.info.username,\r\n              firstname: userdata.user.info.firstname,\r\n              lastname: userdata.user.info.lastname,\r\n              dob: userdata.user.info.dob,\r\n              token: userdata.token,\r\n              isConnected: true,\r\n              notes: userdata.user.notes,\r\n              friends: userdata.user.friends,\r\n              friend_requests: userdata.user.friend_requests,\r\n              notifications: userdata.user.notifications,\r\n              posts: userdata.user.posts,\r\n            });\r\n            setLogin_ok(true);\r\n          } else {\r\n            setLogin_ok(false);\r\n            setIs_loading(false);\r\n          }\r\n        });\r\n    } else {\r\n      setLogin_ok(false);\r\n      setIs_loading(false);\r\n    }\r\n  };\r\n  //..............................................................................................\r\n  /////////////////////////////////////////Login listener/////////////////////////////////////////\r\n  const login_listener = () => {\r\n    let app_page_width = parseInt(\r\n      window.getComputedStyle(document.querySelector(\"#root\")).width\r\n    );\r\n    if (authReport) {\r\n      document.getElementById(\"Login_loginFrom_form\").style.height = \"0\";\r\n      document.getElementById(\"Login_loginFrom_form\").style.padding = \"0\";\r\n      if (app_page_width > 1000) {\r\n        document.getElementById(\"Login_loginLogo_text\").style.fontSize =\r\n          \"100pt\";\r\n        document.getElementById(\r\n          \"Login_loginLogo_container\"\r\n        ).style.marginBottom = \"150px\";\r\n        document.getElementById(\"Login_subLoginLogo_text\").style.fontSize =\r\n          \"50pt\";\r\n      }\r\n      if (1000 > app_page_width > 700) {\r\n        document.getElementById(\"Login_loginLogo_text\").style.fontSize = \"90pt\";\r\n        document.getElementById(\r\n          \"Login_loginLogo_container\"\r\n        ).style.marginBottom = \"140px\";\r\n        document.getElementById(\"Login_subLoginLogo_text\").style.fontSize =\r\n          \"40pt\";\r\n      }\r\n      if (app_page_width < 700) {\r\n        document.getElementById(\"Login_loginLogo_text\").style.fontSize = \"70pt\";\r\n        document.getElementById(\r\n          \"Login_loginLogo_container\"\r\n        ).style.marginBottom = \"130px\";\r\n        document.getElementById(\"Login_subLoginLogo_text\").style.fontSize =\r\n          \"30pt\";\r\n      }\r\n\r\n      setTimeout(() => {\r\n        setIs_loading(false);\r\n        ReactDOM.render(<AppRouter />, document.getElementById(\"root\"));\r\n      }, 5000);\r\n    }\r\n  };\r\n  //.............................................................................................................\r\n  ////////////////////////////////////////////SIGN UP AS USER AND PROFILE//////////////////////////////////////\r\n  const signup = (event) => {\r\n    event.preventDefault();\r\n    setIs_loading(true);\r\n    let Login_username_input = document.getElementById(\"Login_username_input\");\r\n    let Login_password_input = document.getElementById(\"Login_password_input\");\r\n    let Login_firstname_input = document.getElementById(\r\n      \"Login_firstname_input\"\r\n    );\r\n    let Login_lastname_input = document.getElementById(\"Login_lastname_input\");\r\n    let Login_email_input = document.getElementById(\"Login_email_input\");\r\n    let Login_dob_input = document.getElementById(\"Login_dob_input\");\r\n    //................................user....................................................\r\n    if (\r\n      Login_username_input.value &&\r\n      Login_password_input.value &&\r\n      Login_firstname_input.value &&\r\n      Login_lastname_input.value &&\r\n      Login_email_input.value\r\n      // Login_dob_input.value\r\n    ) {\r\n      const url = \"https://backendstep.onrender.com/api/user/signup\";\r\n      const options = {\r\n        method: \"POST\",\r\n        mode: \"cors\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({\r\n          username: Login_username_input.value,\r\n          password: Login_password_input.value,\r\n          firstname: Login_firstname_input.value,\r\n          lastname: Login_lastname_input.value,\r\n          email: Login_email_input.value,\r\n          dob: Login_dob_input.value,\r\n        }),\r\n      };\r\n      let req = new Request(url, options);\r\n      fetch(req)\r\n        .then((response) => {\r\n          if (response.status === 201) {\r\n            setIs_loading(false);\r\n            setSignup_ok(true);\r\n            document.getElementById(\"Login_loginFrom_form\").reset();\r\n            return response.json(response);\r\n          } else {\r\n            setIs_loading(false);\r\n            setSignup_ok(false);\r\n            return response.json(response);\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log(\"error:\", err.message);\r\n        });\r\n    } else {\r\n      setIs_loading(false);\r\n      setSignup_ok(false);\r\n    }\r\n  };\r\n\r\n  ////////////////////////////////////////////Create PROFILE//////////////////////////////////////\r\n\r\n  return (\r\n    <Router>\r\n      <Route exact path=\"/\">\r\n        <article id=\"Login_article\" className=\"fc\">\r\n          <main id=\"Login_main\" className=\"fc\">\r\n            <section id=\"Login_loginLogo_container\">\r\n              <h1 id=\"Login_loginLogo_text\">MCTOSH</h1>\r\n              <h4 id=\"Login_subLoginLogo_text\">Virtual Medicine</h4>\r\n            </section>\r\n            <section id=\"Login_loginForm_container\">\r\n              <section id=\"Login_loginFrom_form\" className=\"fc\">\r\n                <input\r\n                  id=\"Login_firstname_input\"\r\n                  type=\"text\"\r\n                  style={{ display: \"none\" }}\r\n                  placeholder=\"first name\"\r\n                />\r\n                <input\r\n                  id=\"Login_lastname_input\"\r\n                  type=\"text\"\r\n                  style={{ display: \"none\" }}\r\n                  placeholder=\"last name\"\r\n                />\r\n                <input\r\n                  id=\"Login_username_input\"\r\n                  type=\"text\"\r\n                  placeholder=\"username\"\r\n                  onKeyPress={(event) => {\r\n                    if (event.which === 13) {\r\n                      login();\r\n                    }\r\n                  }}\r\n                />\r\n                <input\r\n                  id=\"Login_password_input\"\r\n                  type=\"password\"\r\n                  placeholder=\"password\"\r\n                  onKeyPress={(event) => {\r\n                    if (event.which === 13) {\r\n                      login();\r\n                    }\r\n                  }}\r\n                />\r\n                <input\r\n                  id=\"Login_email_input\"\r\n                  type=\"email\"\r\n                  placeholder=\"email address\"\r\n                  style={{ display: \"none\" }}\r\n                />\r\n                <input\r\n                  id=\"Login_dob_input\"\r\n                  type=\"date\"\r\n                  style={{ display: \"none\" }}\r\n                />\r\n                <button id=\"Login_login_button\" onClick={login}>\r\n                  Log in\r\n                </button>\r\n\r\n                <button\r\n                  id=\"Login_signup_button\"\r\n                  onClick={signup}\r\n                  style={{ display: \"none\" }}\r\n                >\r\n                  Sign up\r\n                </button>\r\n                <h4\r\n                  style={{ display: \"none\" }}\r\n                  id=\"Login_loginShow_text\"\r\n                  onClick={() => formControl(\"login\")}\r\n                >\r\n                  Log in?\r\n                </h4>\r\n                <h4\r\n                  id=\"Login_signupShow_text\"\r\n                  onClick={() => formControl(\"signup\")}\r\n                >\r\n                  Sign up?\r\n                </h4>\r\n                <h4 style={{ overflowWrap: \"break-word\", color: \"red\" }}>\r\n                  {login_ok === false &&\r\n                    \"The password you entered is not correct, please try again\"}\r\n                  {signup_ok === true && \"You have successfully signed up!\"}\r\n                  {signup_ok === false &&\r\n                    \"Please make sure you entered valid information\"}\r\n                </h4>\r\n              </section>\r\n            </section>\r\n          </main>\r\n          <footer id=\"Login_footer\">\r\n            <section id=\"Login_copyright_container\">\r\n              <h4 id=\"Login_copyright_text\">©2021 Rudy Hamame</h4>\r\n            </section>\r\n          </footer>\r\n          {is_loading === true && (\r\n            <div id=\"Login_loaderImg_div\" className=\"fc\">\r\n              <img src=\"/img/loader.gif\" alt=\"\" width=\"100px\" />\r\n            </div>\r\n          )}\r\n        </article>\r\n      </Route>\r\n      <Redirect to=\"/\" />\r\n    </Router>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","C:\\Users\\Rodi\\Documents\\mctosh\\step1-frontend2\\src\\App\\App.js",["124","125","126","127","128","129","130","131","132","133","134","135"],"//...........import..................\r\nimport React from \"react\";\r\n\r\n//........import CSS...........\r\nimport \"./App.css\";\r\nimport \"./Footer/footer.css\";\r\nimport \"./Header/header.css\";\r\nimport \"./Parts/Friends/AddFriend/add_friend.css\";\r\nimport \"./Main/Posts/posts.css\";\r\nimport \"./Main/main.css\";\r\nimport \"./Parts/Friends/friends.css\";\r\nimport \"./Header/SearchUsers/search_users.css\";\r\nimport \"./Main/Posts/InputPost/SearchPosts/search_posts.css\";\r\nimport \"./Header/Logo/logo.css\";\r\nimport \"./Header/Nav/Notifications/notifications.css\";\r\nimport \"./Header/Nav/nav.css\";\r\nimport \"./Main/Posts/InputPost/inputPosts.css\";\r\nimport \"./Main/Posts/MountPosts/mount_posts.css\";\r\nimport \"./Header/Nav/Menu/menu.css\";\r\nimport \"./Parts/Friends/FriendsList/friendslist.css\";\r\nimport \"./SubApps/Chat/chat.css\";\r\nimport \"./Main/Terminology/terminology.css\";\r\nimport \"./Main/Greeting/greeting.css\";\r\nimport { Route } from \"react-router-dom\";\r\nimport Terminology from \"./Main/Terminology/Terminology\";\r\nimport Posts from \"./Main/Posts/Posts\";\r\nimport Greeting from \"./Main/Greeting/Greeting\";\r\nimport SearchPosts from \"./Main/Posts/InputPost/SearchPosts/SearchPosts\";\r\nimport Header from \"./Header/Header\";\r\nimport Chat from \"./SubApps/Chat/Chat\";\r\nimport StudyPlanner from \"./SubApps/StudyPlannner/StudyPlanner\";\r\n//...........component..................\r\nclass App extends React.Component {\r\n  //..........states...........\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      my_id: JSON.parse(sessionStorage.getItem(\"state\")).my_id,\r\n      username: JSON.parse(sessionStorage.getItem(\"state\")).username,\r\n      firstname: JSON.parse(sessionStorage.getItem(\"state\")).firstname,\r\n      lastname: JSON.parse(sessionStorage.getItem(\"state\")).lastname,\r\n      dob: JSON.parse(sessionStorage.getItem(\"state\")).dob,\r\n      token: JSON.parse(sessionStorage.getItem(\"state\")).token,\r\n      isConnected: true,\r\n      isOnline: false,\r\n      friends: JSON.parse(sessionStorage.getItem(\"state\")).friends,\r\n      chat: [],\r\n      terminology: [],\r\n      posts: JSON.parse(sessionStorage.getItem(\"state\")).posts,\r\n      app_is_loading: false,\r\n      friend_target: null,\r\n      server_answer: null,\r\n      friendID_selected: null,\r\n      searching_on: false,\r\n      friendsPosts_retrieved: false,\r\n      retrievingFriendsPosts_DONE: false,\r\n      retrievingTerminology_DONE: false,\r\n      retrievingStudySessions_DONE: false,\r\n      notifications: [],\r\n      timer: {\r\n        hours: 0,\r\n        mins: 0,\r\n        secs: 0,\r\n      },\r\n      study_session: null,\r\n      profile: false,\r\n      friendAddedSuccessfully: null,\r\n      posts_updated: false,\r\n      posts_deleted: false,\r\n    };\r\n  }\r\n  ////////////////////////////////////////Variables//////////////\r\n  // posts = [];\r\n  /////////////////////////////////////////////////////Lifecycle//////////////////////////\r\n  componentDidMount() {\r\n    this.setState({\r\n      my_id: JSON.parse(sessionStorage.getItem(\"state\")).my_id,\r\n      username: JSON.parse(sessionStorage.getItem(\"state\")).username,\r\n      firstname: JSON.parse(sessionStorage.getItem(\"state\")).firstname,\r\n      lastname: JSON.parse(sessionStorage.getItem(\"state\")).lastname,\r\n      dob: JSON.parse(sessionStorage.getItem(\"state\")).dob,\r\n      token: JSON.parse(sessionStorage.getItem(\"state\")).token,\r\n    });\r\n    setInterval(() => {\r\n      this.updateUserInfo();\r\n    }, 5000);\r\n  }\r\n  componentDidUpdate() {\r\n    this.buildNotifications();\r\n    // this.RetrievingMySendingMessages(this.state.friendID_selected);\r\n    if (this.state.timer && this.state.isConnected)\r\n      sessionStorage.setItem(\r\n        \"Header_timer_h1\",\r\n        JSON.stringify(this.state.timer)\r\n      );\r\n\r\n    if (\r\n      this.state.terminology.length > 0 &&\r\n      this.state.retrievingTerminology_DONE === false &&\r\n      this.props.path === \"/study\"\r\n    )\r\n      this.RetrievingTerminology();\r\n    if (\r\n      this.state.retrievingStudySessions_DONE === false &&\r\n      this.props.path === \"/\"\r\n    )\r\n      if (this.state.profile === true && this.props.path === \"/study\")\r\n        this.BuildingPostsProfile();\r\n  }\r\n  componentWillUnmount() {\r\n    if (this.props.path === \"/study\") {\r\n      let input = window.confirm(\r\n        \"Do you want this study session to be counted?\"\r\n      );\r\n      if (input) this.updateBeforeLeave();\r\n    }\r\n    if (this.props.path === \"/\") {\r\n      this.availableToChat(false);\r\n    }\r\n  }\r\n\r\n  //......MAKE YOURSELF AVAILABLE TO CHAT......\r\n  availableToChat = (isConnected) => {\r\n    let url =\r\n      \"https://backendstep.onrender.com/api/user/isOnline/\" + this.state.my_id;\r\n    let options = {\r\n      method: \"PUT\",\r\n      mode: \"cors\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        isConnected: isConnected,\r\n      }),\r\n    };\r\n\r\n    let req = new Request(url, options);\r\n    fetch(req)\r\n      .then((response) => {\r\n        if (response.status === 201 && this.state.isConnected === false) {\r\n          sessionStorage.removeItem(\"Header_timer_h1\");\r\n          sessionStorage.removeItem(\"state\");\r\n          window.location.reload();\r\n          return response.json();\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"error:\", err.message);\r\n      });\r\n  };\r\n\r\n  //......END OF MAKE YOURSELF AVAILABLE TO CHAT......\r\n\r\n  //............................................Retrieving Area..........................................................................\r\n  posts_alreadyBuilt = [];\r\n  posts_comments = [];\r\n  BuildingPosts = () => {\r\n    console.log(this.state.posts_alreadyBuilt);\r\n    let ul = document.getElementById(\"MountPosts_content_container\");\r\n    // if (this.state.posts.length > 0) {\r\n    //   this.state.posts.sort((a, b) => {\r\n    //     return new Date(b.date) - new Date(a.date);\r\n    //   });\r\n    // }\r\n    for (var i = 0; i < this.state.posts.length; i++) {\r\n      console.log(this.state.posts);\r\n      if (\r\n        this.state.posts[i]._id !== this.state.posts_alreadyBuilt[i] ||\r\n        (this.state.posts[i]._id === this.state.posts_alreadyBuilt[i] &&\r\n          this.state.posts[i].comments.length !==\r\n            this.state.posts_comments[i]) ||\r\n        this.state.posts_deleted\r\n      ) {\r\n        if (\r\n          this.state.posts[i]._id === this.state.posts_alreadyBuilt[i] &&\r\n          this.state.posts[i].comments.length !== this.state.posts_comments[i]\r\n        ) {\r\n          let commentlist_ul = document.getElementById(\r\n            \"commentlist_ul\" + this.state.posts[i]._id\r\n          );\r\n          if (this.state.posts[i].comments.length === 1) {\r\n            let commentlist_ul = document.createElement(\"ul\");\r\n            commentlist_ul.setAttribute(\r\n              \"id\",\r\n              \"commentlist_ul\" + this.state.posts[i]._id\r\n            );\r\n            commentlist_ul.setAttribute(\"class\", \"fc commentlist_ul\");\r\n            let comments_div = document.getElementById(\r\n              \"commentDiv\" + this.state.posts[i]._id\r\n            );\r\n            let li = document.createElement(\"li\");\r\n            li.setAttribute(\"class\", \"comment_li\");\r\n            li.textContent =\r\n              this.state.posts[i].comments[\r\n                this.state.posts[i].comments.length - 1\r\n              ];\r\n            commentlist_ul.prepend(li);\r\n            comments_div.appendChild(commentlist_ul);\r\n            this.state.posts_comments[i] = this.state.posts[i].comments.length;\r\n          } else {\r\n            let li = document.createElement(\"li\");\r\n            li.setAttribute(\"class\", \"comment_li\");\r\n            li.textContent =\r\n              this.state.posts[i].comments[\r\n                this.state.posts[i].comments.length - 1\r\n              ];\r\n            commentlist_ul.prepend(li);\r\n            this.state.posts_comments[i] = this.state.posts[i].comments.length;\r\n          }\r\n        } else {\r\n          this.setState({\r\n            app_is_loading: true,\r\n          });\r\n          let date_p = document.createElement(\"p\");\r\n          let category_p = document.createElement(\"p\");\r\n          let subject_p = document.createElement(\"p\");\r\n          let reference_p = document.createElement(\"p\");\r\n          let page_p = document.createElement(\"p\");\r\n          let li = document.createElement(\"li\");\r\n          let details_div = document.createElement(\"div\");\r\n          let note_options_div = document.createElement(\"div\");\r\n          //.............................comments.......................\r\n\r\n          //............date.................................\r\n          let date = this.state.posts[i].date;\r\n          let date_timezone = new Date(date);\r\n          let date_string = date_timezone.toDateString();\r\n          let time_string = date_timezone.toLocaleTimeString();\r\n          //.............................................\r\n          //...............................note..................................\r\n          let note_p = document.createElement(\"p\");\r\n          note_p.textContent = this.state.posts[i].note;\r\n          note_p.setAttribute(\"class\", \"note_p\");\r\n          note_options_div.setAttribute(\"class\", \"fr note_options_div\");\r\n          note_options_div.setAttribute(\"id\", \"note_options_div\" + i);\r\n          note_options_div.appendChild(note_p);\r\n          //.......................Options....................................\r\n          let options_div = document.createElement(\"div\");\r\n          //............................Poster name.......................\r\n          let postername_p = document.createElement(\"p\");\r\n          postername_p.setAttribute(\"class\", \"postername_p\");\r\n          details_div.appendChild(postername_p);\r\n          //..................................\r\n\r\n          if (this.state.posts[i].id === this.state.my_id) {\r\n            postername_p.textContent = \"Mine\";\r\n            let p_delete = document.createElement(\"p\");\r\n            let p_edit = document.createElement(\"p\");\r\n            p_delete.style.cursor = \"pointer\";\r\n            p_edit.style.cursor = \"pointer\";\r\n            p_delete.textContent = \"Delete\";\r\n            p_edit.textContent = \"Edit\";\r\n            options_div.appendChild(p_delete);\r\n            options_div.appendChild(p_edit);\r\n            p_delete.addEventListener(\"click\", () => {\r\n              this.deletePost(options_div.id);\r\n            });\r\n\r\n            p_edit.addEventListener(\"click\", () =>\r\n              this.editPost(options_div.id)\r\n            );\r\n            note_options_div.appendChild(options_div);\r\n            options_div.setAttribute(\r\n              \"class\",\r\n              \"fc MountPosts_postOptionsContainer\"\r\n            );\r\n            options_div.setAttribute(\"id\", this.state.posts[i]._id);\r\n          } else {\r\n            postername_p.textContent =\r\n              this.state.posts[i].firstname +\r\n              \" \" +\r\n              this.state.posts[i].lastname;\r\n          }\r\n          //........................................................................\r\n\r\n          //.....................................................................\r\n          li.className = \"fc\";\r\n\r\n          date_p.innerHTML =\r\n            \"<i class='far fa-clock'></i>\" +\r\n            \"  \" +\r\n            date_string +\r\n            \", \" +\r\n            time_string;\r\n          category_p.textContent = \"System: \" + this.state.posts[i].category;\r\n          subject_p.textContent = \"Discipline: \" + this.state.posts[i].subject;\r\n          reference_p.textContent =\r\n            \"Reference: \" + this.state.posts[i].reference;\r\n          page_p.textContent = \"Page #: \" + this.state.posts[i].page_num;\r\n          date_p.className = \"MountPosts_date\";\r\n          details_div.appendChild(date_p);\r\n          details_div.appendChild(category_p);\r\n          details_div.appendChild(subject_p);\r\n          details_div.setAttribute(\"class\", \"fr details_div\");\r\n          //...................comments...............\r\n          let comments_div = document.createElement(\"div\");\r\n          let comment_input = document.createElement(\"input\");\r\n          let commentlist_ul = document.createElement(\"ul\");\r\n          comments_div.appendChild(comment_input);\r\n          comments_div.setAttribute(\"class\", \"fc comments_div\");\r\n          comments_div.setAttribute(\r\n            \"id\",\r\n            \"commentDiv\" + this.state.posts[i]._id\r\n          );\r\n          comment_input.setAttribute(\r\n            \"id\",\r\n            \"comment_input\" + this.state.posts[i]._id\r\n          );\r\n          comment_input.setAttribute(\"class\", \"comment_input\");\r\n          commentlist_ul.setAttribute(\r\n            \"id\",\r\n            \"commentlist_ul\" + this.state.posts[i]._id\r\n          );\r\n          comment_input.setAttribute(\"placeholder\", \"Enter a comment\");\r\n          comment_input.addEventListener(\"keypress\", (event) => {\r\n            this.postComment(event, comments_div.id, comment_input.id);\r\n          });\r\n          this.state.posts[i].comments.forEach((comment) => {\r\n            let comment_li = document.createElement(\"li\");\r\n            comment_li.textContent = comment;\r\n            comment_li.setAttribute(\"class\", \"comment_li\");\r\n            commentlist_ul.setAttribute(\"class\", \"fc commentlist_ul\");\r\n            commentlist_ul.prepend(comment_li);\r\n            comments_div.appendChild(commentlist_ul);\r\n          });\r\n          //.....................................................\r\n\r\n          if (\r\n            !(\r\n              this.state.posts[i].reference === \"\" &&\r\n              this.state.posts[i].page_num !== null\r\n            )\r\n          ) {\r\n            if (this.state.posts[i].reference !== \"\")\r\n              details_div.appendChild(reference_p);\r\n            if (this.state.posts[i].page_num !== null)\r\n              details_div.appendChild(page_p);\r\n          }\r\n          li.setAttribute(\"id\", \"li\" + this.state.posts[i]._id);\r\n          li.appendChild(details_div);\r\n          li.appendChild(note_options_div);\r\n          li.appendChild(comments_div);\r\n          ul.appendChild(li);\r\n          this.state.posts_alreadyBuilt[i] = this.state.posts[i]._id;\r\n          this.state.posts_comments[i] = this.state.posts[i].comments.length;\r\n          this.setState({\r\n            app_is_loading: false,\r\n            //   posts_updated: true,\r\n          });\r\n        }\r\n      }\r\n\r\n      // if (this.state.posts.length < this.state.posts_alreadyBuilt.length) {\r\n      //   this.state.posts_alreadyBuilt = [];\r\n      //   ul.innerHTML = \"\";\r\n      // }\r\n    }\r\n  };\r\n  //////////////////////////// Profile///////////////////////////////////////////////\r\n  profilePosts = [];\r\n  BuildingPostsProfile = () => {\r\n    let ul = document.getElementById(\"MountPosts_content_container\");\r\n    for (var i = 0; i < this.state.posts.length; i++) {\r\n      if (this.state.posts[i].id === this.state.my_id) {\r\n        if (this.state.posts.length >= this.profilePosts.length) {\r\n          if (this.state.posts[i]._id !== this.profilePosts[i]) {\r\n            if (\r\n              this.state.posts[i]._id === this.profilePosts[i] &&\r\n              this.state.posts[i].comments.length !==\r\n                this.state.posts_comments[i]\r\n            ) {\r\n              let commentlist_ul = document.getElementById(\r\n                \"commentlist_ul\" + this.state.posts[i]._id\r\n              );\r\n              if (this.state.posts[i].comments.length === 1) {\r\n                let commentlist_ul = document.createElement(\"ul\");\r\n                commentlist_ul.setAttribute(\r\n                  \"id\",\r\n                  \"commentlist_ul\" + this.state.posts[i]._id\r\n                );\r\n                commentlist_ul.setAttribute(\"class\", \"fc commentlist_ul\");\r\n                let comments_div = document.getElementById(\r\n                  \"commentDiv\" + this.state.posts[i]._id\r\n                );\r\n                let li = document.createElement(\"li\");\r\n                li.setAttribute(\"class\", \"comment_li\");\r\n                li.textContent =\r\n                  this.state.posts[i].comments[\r\n                    this.state.posts[i].comments.length - 1\r\n                  ];\r\n                commentlist_ul.prepend(li);\r\n                comments_div.appendChild(commentlist_ul);\r\n                this.state.posts_comments[i] =\r\n                  this.state.posts[i].comments.length;\r\n              } else {\r\n                let li = document.createElement(\"li\");\r\n                li.setAttribute(\"class\", \"comment_li\");\r\n                li.textContent =\r\n                  this.state.posts[i].comments[\r\n                    this.state.posts[i].comments.length - 1\r\n                  ];\r\n                commentlist_ul.prepend(li);\r\n                this.state.posts_comments[i] =\r\n                  this.state.posts[i].comments.length;\r\n              }\r\n            } else {\r\n              this.setState({\r\n                app_is_loading: true,\r\n              });\r\n              let date_p = document.createElement(\"p\");\r\n              let category_p = document.createElement(\"p\");\r\n              let subject_p = document.createElement(\"p\");\r\n              let reference_p = document.createElement(\"p\");\r\n              let page_p = document.createElement(\"p\");\r\n              let li = document.createElement(\"li\");\r\n              let details_div = document.createElement(\"div\");\r\n              let note_options_div = document.createElement(\"div\");\r\n              //.............................comments.......................\r\n\r\n              //............date.................................\r\n              let date = this.state.posts[i].date;\r\n              let date_timezone = new Date(date);\r\n              let date_string = date_timezone.toDateString();\r\n              let time_string = date_timezone.toLocaleTimeString();\r\n              //.............................................\r\n              //...............................note..................................\r\n              let note_p = document.createElement(\"p\");\r\n              note_p.textContent = this.state.posts[i].note;\r\n              note_p.setAttribute(\"class\", \"note_p\");\r\n              note_options_div.setAttribute(\"class\", \"fr note_options_div\");\r\n              note_options_div.setAttribute(\"id\", \"note_options_div\" + i);\r\n              note_options_div.appendChild(note_p);\r\n              //.......................Options....................................\r\n              let options_div = document.createElement(\"div\");\r\n              options_div.setAttribute(\"class\", \"options_div\");\r\n              //............................Poster name.......................\r\n              let postername_p = document.createElement(\"p\");\r\n              postername_p.setAttribute(\"class\", \"postername_p\");\r\n              details_div.appendChild(postername_p);\r\n              //..................................\r\n\r\n              postername_p.textContent = \"Mine\";\r\n              let p_delete = document.createElement(\"p\");\r\n              let p_edit = document.createElement(\"p\");\r\n              p_delete.style.cursor = \"pointer\";\r\n              p_edit.style.cursor = \"pointer\";\r\n              p_delete.textContent = \"Delete\";\r\n              p_edit.textContent = \"Edit\";\r\n              options_div.appendChild(p_delete);\r\n              options_div.appendChild(p_edit);\r\n              p_delete.addEventListener(\"click\", () =>\r\n                this.deletePost(options_div.id)\r\n              );\r\n              p_edit.addEventListener(\"click\", () =>\r\n                this.editPost(options_div.id)\r\n              );\r\n              note_options_div.appendChild(options_div);\r\n              options_div.setAttribute(\r\n                \"class\",\r\n                \"fc MountPosts_postOptionsContainer\"\r\n              );\r\n              options_div.setAttribute(\"id\", this.state.posts[i]._id);\r\n\r\n              //........................................................................\r\n\r\n              //.....................................................................\r\n              li.className = \"fc\";\r\n\r\n              date_p.innerHTML =\r\n                \"<i class='far fa-clock'></i>\" +\r\n                \"  \" +\r\n                date_string +\r\n                \", \" +\r\n                time_string;\r\n              category_p.textContent =\r\n                \"Category: \" + this.state.posts[i].category;\r\n              subject_p.textContent = \"Subject: \" + this.state.posts[i].subject;\r\n              reference_p.textContent =\r\n                \"Reference: \" + this.state.posts[i].reference;\r\n              page_p.textContent = \"Page #: \" + this.state.posts[i].page_num;\r\n              date_p.className = \"MountPosts_date\";\r\n              details_div.appendChild(date_p);\r\n              details_div.appendChild(category_p);\r\n              details_div.appendChild(subject_p);\r\n              details_div.setAttribute(\"class\", \"fr details_div\");\r\n              //...................comments...............\r\n              let comments_div = document.createElement(\"div\");\r\n              let comment_input = document.createElement(\"input\");\r\n              let commentlist_ul = document.createElement(\"ul\");\r\n              comments_div.appendChild(comment_input);\r\n              comments_div.setAttribute(\"class\", \"fc comments_div\");\r\n              comments_div.setAttribute(\r\n                \"id\",\r\n                \"commentDiv\" + this.state.posts[i]._id\r\n              );\r\n              comment_input.setAttribute(\r\n                \"id\",\r\n                \"comment_input\" + this.state.posts[i]._id\r\n              );\r\n              comment_input.setAttribute(\"class\", \"comment_input\");\r\n              commentlist_ul.setAttribute(\r\n                \"id\",\r\n                \"commentlist_ul\" + this.state.posts[i]._id\r\n              );\r\n              comment_input.setAttribute(\"placeholder\", \"Enter a comment\");\r\n              comment_input.addEventListener(\"keypress\", (event) => {\r\n                this.postComment(event, comments_div.id, comment_input.id);\r\n              });\r\n              this.state.posts[i].comments.forEach((comment) => {\r\n                let comment_li = document.createElement(\"li\");\r\n                comment_li.textContent = comment;\r\n                comment_li.setAttribute(\"class\", \"comment_li\");\r\n                commentlist_ul.setAttribute(\"class\", \"fc commentlist_ul\");\r\n                commentlist_ul.prepend(comment_li);\r\n                comments_div.appendChild(commentlist_ul);\r\n              });\r\n              //.....................................................\r\n\r\n              if (\r\n                !(\r\n                  this.state.posts[i].reference === \"\" &&\r\n                  this.state.posts[i].page_num !== null\r\n                )\r\n              ) {\r\n                if (this.state.posts[i].reference !== \"\")\r\n                  details_div.appendChild(reference_p);\r\n                if (this.state.posts[i].page_num !== null)\r\n                  details_div.appendChild(page_p);\r\n              }\r\n              li.setAttribute(\"id\", \"li\" + this.state.posts[i]._id);\r\n              li.appendChild(details_div);\r\n              li.appendChild(note_options_div);\r\n              li.appendChild(comments_div);\r\n              ul.prepend(li);\r\n              this.profilePosts[i] = this.state.posts[i]._id;\r\n              // this.state.posts_comments[i] = this.state.posts[i].comments.length;\r\n              this.setState({\r\n                app_is_loading: false,\r\n              });\r\n            }\r\n          }\r\n        }\r\n        // if (this.state.posts.length < this.state.posts_alreadyBuilt.length) {\r\n        //   this.state.posts_alreadyBuilt = [];\r\n        //   ul.innerHTML = \"\";\r\n        // }\r\n      }\r\n    }\r\n    if (this.profilePosts.length === 0) {\r\n    }\r\n  };\r\n  ////////////////////////// RetrievingMyStudySessions////////////////////////////////\r\n  RetrievingMyStudySessions = () => {\r\n    let secs_sessionInworking = 0;\r\n    let mins_sessionInworking = 0;\r\n    let hours_sessionInworking = 0;\r\n    let total_hours = 0;\r\n    let total_mins = 0;\r\n    let total_secs = 0;\r\n    let secs_totalInworking = 0;\r\n    let mins_totalInworking = 0;\r\n\r\n    // document.getElementById(\"Posts_studySessions_area\").innerHTML = \"\";\r\n    // && ul to fix unknown problem\r\n    if (this.state.study_session) {\r\n      for (var i = 0; i < this.state.study_session.length; i++) {\r\n        let ul = document.getElementById(\"Greeting_studySessions_area\");\r\n        let p1 = document.createElement(\"p\");\r\n        let p2 = document.createElement(\"p\");\r\n        let li = document.createElement(\"li\");\r\n        let div = document.createElement(\"div\");\r\n\r\n        //............date.................................\r\n        let date = this.state.study_session[i].date;\r\n        let date_timezone = new Date(date);\r\n        let date_string = date_timezone.toDateString();\r\n\r\n        //.............................................\r\n        secs_sessionInworking = this.state.study_session[i].length.secs;\r\n        mins_sessionInworking = this.state.study_session[i].length.mins;\r\n        hours_sessionInworking = this.state.study_session[i].length.hours;\r\n        if (\r\n          secs_sessionInworking < 10 ||\r\n          mins_sessionInworking < 10 ||\r\n          hours_sessionInworking < 10\r\n        ) {\r\n          if (secs_sessionInworking < 10)\r\n            secs_sessionInworking = \"0\" + secs_sessionInworking;\r\n          if (mins_sessionInworking < 10)\r\n            mins_sessionInworking = \"0\" + mins_sessionInworking;\r\n          if (hours_sessionInworking < 10)\r\n            hours_sessionInworking = \"0\" + hours_sessionInworking;\r\n        }\r\n        li.className = \"fc\";\r\n        p1.textContent = \"On \" + date_string;\r\n        p2.textContent =\r\n          \"Duration: \" +\r\n          hours_sessionInworking +\r\n          \":\" +\r\n          mins_sessionInworking +\r\n          \":\" +\r\n          secs_sessionInworking;\r\n        div.appendChild(p1);\r\n        div.appendChild(p2);\r\n\r\n        li.appendChild(div);\r\n        ul.prepend(li);\r\n        total_hours = total_hours + this.state.study_session[i].length.hours;\r\n        total_mins = total_mins + this.state.study_session[i].length.mins;\r\n        total_secs = total_secs + this.state.study_session[i].length.secs;\r\n        secs_totalInworking = total_secs;\r\n        mins_totalInworking = total_mins;\r\n      }\r\n      for (i = 0; secs_totalInworking >= 60; i++) {\r\n        secs_totalInworking--;\r\n        if (secs_totalInworking % 60 === 0) {\r\n          total_mins++;\r\n          total_secs = total_secs - 60;\r\n        }\r\n      }\r\n      for (i = 0; mins_totalInworking >= 60; i++) {\r\n        mins_totalInworking--;\r\n        if (mins_totalInworking % 60 === 0) {\r\n          total_hours++;\r\n          total_mins = total_mins - 60;\r\n        }\r\n      }\r\n      if (total_secs < 10 || total_mins < 10 || total_hours < 10) {\r\n        if (total_secs < 10) total_secs = \"0\" + total_secs;\r\n        if (total_mins < 10) total_mins = \"0\" + total_mins;\r\n        if (total_hours < 10) total_hours = \"0\" + total_hours;\r\n      }\r\n      let li = document.getElementById(\"Greeting_totalDuration_li\");\r\n      let p = document.createElement(\"p\");\r\n      p.style.fontWeight = \"600\";\r\n      p.style.padding = \"10px\";\r\n\r\n      p.textContent =\r\n        \"Total duration: \" + total_hours + \":\" + total_mins + \":\" + total_secs;\r\n      li.appendChild(p);\r\n\r\n      this.setState({\r\n        retrievingStudySessions_DONE: true,\r\n      });\r\n    }\r\n  };\r\n\r\n  ///////////////////////////Retrieving terminology//////////////////////////\r\n  RetrievingTerminology = () => {\r\n    if (this.state.terminology) {\r\n      this.state.terminology.forEach((term) => {\r\n        let ul = document.getElementById(\"Terminology_content_container\");\r\n        let p1 = document.createElement(\"p\");\r\n        let p2 = document.createElement(\"p\");\r\n        let p3 = document.createElement(\"p\");\r\n        let p4 = document.createElement(\"p\");\r\n        let p5 = document.createElement(\"p\");\r\n        let p6 = document.createElement(\"p\");\r\n        let li = document.createElement(\"li\");\r\n        p1.textContent = term.term;\r\n        p1.style.fontSize = \"16pt\";\r\n        p1.style.textAlign = \"center\";\r\n        p1.style.backgroundColor = \"var(--white)\";\r\n        p1.style.color = \"var(--black)\";\r\n        p2.textContent = term.meaning;\r\n        p2.style.fontSize = \"14pt\";\r\n        p3.textContent = term.category;\r\n        p3.style.fontSize = \"10pt\";\r\n        p3.style.textAlign = \"right\";\r\n        p4.textContent = term.subject;\r\n        p4.style.fontSize = \"10pt\";\r\n        p4.style.textAlign = \"right\";\r\n        p5.textContent = \"Delete\";\r\n        p5.style.backgroundColor = \"var(--red)\";\r\n        p5.style.width = \"fit-content\";\r\n        p5.style.padding = \"0 5px\";\r\n        p5.style.cursor = \"pointer\";\r\n        p5.addEventListener(\"click\", () => {\r\n          this.deleteTerminology(term._id);\r\n        });\r\n        p6.textContent = \"Edit\";\r\n        p6.style.backgroundColor = \"var(--red)\";\r\n        p6.style.width = \"fit-content\";\r\n        p6.style.padding = \"0 5px\";\r\n        p6.style.marginTop = \"5px\";\r\n\r\n        p6.style.cursor = \"pointer\";\r\n        p6.addEventListener(\"click\", () => {\r\n          this.editTerminology(term._id);\r\n        });\r\n        li.appendChild(p1);\r\n        li.appendChild(p2);\r\n        li.appendChild(p3);\r\n        li.appendChild(p4);\r\n        li.appendChild(p5);\r\n        li.appendChild(p6);\r\n        li.setAttribute(\"id\", \"li_term\" + term._id);\r\n        ul.prepend(li);\r\n      });\r\n      this.setState({\r\n        retrievingTerminology_DONE: true,\r\n      });\r\n    }\r\n  };\r\n  ////////////////////////////Delete terminology////////////////////////////\r\n  deleteTerminology = (term_id) => {\r\n    let url =\r\n      \"https://backendstep.onrender.com/api/user/deleteTerminology/\" +\r\n      term_id +\r\n      \"/\" +\r\n      this.state.my_id;\r\n    let options = {\r\n      method: \"DELETE\",\r\n      mode: \"cors\",\r\n      headers: {\r\n        Authorization: \"Bearer \" + this.state.token,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    };\r\n    let req = new Request(url, options);\r\n    fetch(req).then((response) => {\r\n      if (response.status === 201) {\r\n        document.getElementById(\"li_term\" + term_id).remove();\r\n        this.serverReply(\"term deleted\");\r\n      } else {\r\n        this.serverReply(\"delete failed\");\r\n      }\r\n    });\r\n  };\r\n  ////////////////////////////Edit terminology////////////////////////////\r\n  termIsEditing = false;\r\n  termIdSelected;\r\n  editEvenCounter = -1;\r\n  editTerminology = (term_id) => {\r\n    this.editEvenCounter++;\r\n    if (this.editEvenCounter % 2 === 0) {\r\n      this.termIdSelected = term_id;\r\n      this.termIsEditing = true;\r\n      document.getElementById(\"Terminology_term\").value =\r\n        document.getElementById(\"li_term\" + term_id).children[0].textContent;\r\n      document.getElementById(\"Terminology_meaning\").value =\r\n        document.getElementById(\"li_term\" + term_id).children[1].textContent;\r\n      document.getElementById(\"Terminology_category\").value =\r\n        document.getElementById(\"li_term\" + term_id).children[2].textContent;\r\n      document.getElementById(\"Terminology_subject\").value =\r\n        document.getElementById(\"li_term\" + term_id).children[3].textContent;\r\n      //.........................\r\n      document.getElementById(\"Terminology_inputs_container\").style.display =\r\n        \"flex\";\r\n      document.getElementById(\"Terminology_control_icon_close\").style.display =\r\n        \"inline\";\r\n      document.getElementById(\"Terminology_control_icon_open\").style.display =\r\n        \"none\";\r\n      document.getElementById(\"li_term\" + term_id).children[5].textContent =\r\n        \"Cancel?\";\r\n      document.getElementById(\r\n        \"li_term\" + term_id\r\n      ).children[5].style.backgroundColor = \"var(--black)\";\r\n      document.getElementById(\"Terminology_post_button\").textContent = \"Edit\";\r\n      //.......\r\n    } else {\r\n      this.termIsEditing = false;\r\n      document.getElementById(\"Terminology_inputs_container\").style.display =\r\n        \"none\";\r\n      document.getElementById(\"Terminology_control_icon_close\").style.display =\r\n        \"none\";\r\n      document.getElementById(\"Terminology_control_icon_open\").style.display =\r\n        \"inline\";\r\n      //...........\r\n      document.getElementById(\r\n        \"li_term\" + term_id\r\n      ).children[5].style.backgroundColor = \"var(--red)\";\r\n      document.getElementById(\"li_term\" + term_id).children[5].textContent =\r\n        \"Edit\";\r\n      document.getElementById(\"Terminology_post_button\").textContent = \"Post\";\r\n      //.......\r\n      document.getElementById(\"Terminology_term\").value = \"\";\r\n      document.getElementById(\"Terminology_meaning\").value = \"\";\r\n      document.getElementById(\"Terminology_category\").value = \"\";\r\n      document.getElementById(\"Terminology_subject\").value = \"\";\r\n    }\r\n  };\r\n\r\n  //................................................................................................\r\n  ////////////////////////////Posting a terminology////////////////////////\r\n  postingTerminology = (term, meaning, category, subject) => {\r\n    if (this.termIsEditing === false) {\r\n      this.setState({\r\n        app_is_loading: true,\r\n      });\r\n      let url =\r\n        \"https://backendstep.onrender.com/api/user/newTerminology/\" +\r\n        this.state.my_id;\r\n      let options = {\r\n        method: \"POST\",\r\n        mode: \"cors\",\r\n        headers: {\r\n          Authorization: \"Bearer \" + this.state.token,\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({\r\n          term: term,\r\n          meaning: meaning,\r\n          category: category,\r\n          subject: subject,\r\n          date: new Date(),\r\n        }),\r\n      };\r\n      let req = new Request(url, options);\r\n      fetch(req)\r\n        .then((result) => {\r\n          if (result.status === 201) {\r\n            document.getElementById(\"Terminology_term\").value = \"\";\r\n            document.getElementById(\"Terminology_meaning\").value = \"\";\r\n            document.getElementById(\"Terminology_category\").value = \"\";\r\n            document.getElementById(\"Terminology_subject\").value = \"\";\r\n            this.serverReply(\"Posted successfully!\");\r\n          } else {\r\n            this.serverReply(\r\n              \"Posting failed. Please make sure you select a category and/or a subject for your note\"\r\n            );\r\n            this.setState({\r\n              app_is_loading: false,\r\n            });\r\n          }\r\n          return result.json();\r\n        })\r\n        .then((result) => {\r\n          if (result) {\r\n            let ul = document.getElementById(\"Terminology_content_container\");\r\n            let p1 = document.createElement(\"p\");\r\n            let p2 = document.createElement(\"p\");\r\n            let p3 = document.createElement(\"p\");\r\n            let p4 = document.createElement(\"p\");\r\n            let p5 = document.createElement(\"p\");\r\n            let p6 = document.createElement(\"p\");\r\n            let li = document.createElement(\"li\");\r\n\r\n            // //.............................................\r\n            // let date = result.date;\r\n            // let date_timezone = new Date(date);\r\n            // let date_string = date_timezone.toDateString();\r\n            // let time_string = date_timezone.toLocaleTimeString();\r\n            // p2.textContent =\r\n            //   \"Posted on: \" + date_string + \", \" + \"at: \" + time_string;\r\n            // //.............................................\r\n            p1.textContent = result.term;\r\n            p1.style.fontSize = \"16pt\";\r\n            p1.style.textAlign = \"center\";\r\n            p1.style.backgroundColor = \"var(--white)\";\r\n            p1.style.color = \"var(--black)\";\r\n            p2.textContent = result.meaning;\r\n            p2.style.fontSize = \"14pt\";\r\n            p3.textContent = result.category;\r\n            p3.style.fontSize = \"10pt\";\r\n            p3.style.textAlign = \"right\";\r\n            p4.textContent = result.subject;\r\n            p4.style.fontSize = \"10pt\";\r\n            p4.style.textAlign = \"right\";\r\n            p5.textContent = \"Delete\";\r\n            p5.style.backgroundColor = \"var(--red)\";\r\n            p5.style.width = \"fit-content\";\r\n            p5.style.padding = \"0 5px\";\r\n            p5.style.cursor = \"pointer\";\r\n            p5.addEventListener(\"click\", () => {\r\n              this.deleteTerminology(result._id);\r\n            });\r\n            p6.textContent = \"Edit\";\r\n            p6.style.backgroundColor = \"var(--red)\";\r\n            p6.style.width = \"fit-content\";\r\n            p6.style.padding = \"0 5px\";\r\n            p6.style.marginTop = \"5px\";\r\n            p6.style.cursor = \"pointer\";\r\n            p6.addEventListener(\"click\", () => {\r\n              this.editTerminology(result._id);\r\n            });\r\n            li.setAttribute(\"id\", \"li_term\" + result._id);\r\n            li.appendChild(p1);\r\n            li.appendChild(p2);\r\n            li.appendChild(p3);\r\n            li.appendChild(p4);\r\n            li.appendChild(p5);\r\n            li.appendChild(p6);\r\n            li.setAttribute(\"id\", \"li_term\" + result._id);\r\n\r\n            ul.prepend(li);\r\n            //...................................\r\n            this.setState({\r\n              app_is_loading: false,\r\n              retrievingTerminology_DONE: true,\r\n            });\r\n          }\r\n        });\r\n    } else {\r\n      let url =\r\n        \"https://backendstep.onrender.com/api/user/editTerminology/\" +\r\n        this.termIdSelected +\r\n        \"/\" +\r\n        this.state.my_id;\r\n      let options = {\r\n        method: \"PUT\",\r\n        mode: \"cors\",\r\n        headers: {\r\n          Authorization: \"Bearer \" + this.state.token,\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({\r\n          term: document.getElementById(\"Terminology_term\").value,\r\n          meaning: document.getElementById(\"Terminology_meaning\").value,\r\n          category: document.getElementById(\"Terminology_category\").value,\r\n          subject: document.getElementById(\"Terminology_subject\").value,\r\n          date: new Date(),\r\n        }),\r\n      };\r\n      let req = new Request(url, options);\r\n      fetch(req)\r\n        .then((response) => {\r\n          if (response.status === 201) {\r\n            this.enableEditPost = false;\r\n            document.getElementById(\"Terminology_post_button\").textContent =\r\n              \"Post\";\r\n\r\n            document.getElementById(\r\n              \"li_term\" + this.termIdSelected\r\n            ).children[0].textContent =\r\n              document.getElementById(\"Terminology_term\").value;\r\n            document.getElementById(\r\n              \"li_term\" + this.termIdSelected\r\n            ).children[1].textContent = document.getElementById(\r\n              \"Terminology_meaning\"\r\n            ).value;\r\n            document.getElementById(\r\n              \"li_term\" + this.termIdSelected\r\n            ).children[2].textContent = document.getElementById(\r\n              \"Terminology_category\"\r\n            ).value;\r\n            document.getElementById(\r\n              \"li_term\" + this.termIdSelected\r\n            ).children[3].textContent = document.getElementById(\r\n              \"Terminology_subject\"\r\n            ).value;\r\n            document.getElementById(\r\n              \"li_term\" + this.termIdSelected\r\n            ).children[5].textContent = \"Edit\";\r\n            document.getElementById(\r\n              \"li_term\" + this.termIdSelected\r\n            ).children[5].style.backgroundColor = \"var(--red)\";\r\n            this.serverReply(\"term modified\");\r\n          } else {\r\n            this.serverReply(\r\n              \"modifying failed. Please make sure you select a category and/or a subject for your note\"\r\n            );\r\n          }\r\n        })\r\n        .then(() => {\r\n          document.getElementById(\"Terminology_term\").value = \"\";\r\n          document.getElementById(\"Terminology_meaning\").value = \"\";\r\n          document.getElementById(\"Terminology_category\").value = \"\";\r\n          document.getElementById(\"Terminology_subject\").value = \"\";\r\n          this.termIsEditing = false;\r\n        });\r\n    }\r\n  };\r\n\r\n  //////////////////////////Posting POSTS////////////////////////////////\r\n  postingPost = () => {\r\n    // if (this.enableEditPost === true) {\r\n    //   if (\r\n    //     !(\r\n    //       document.getElementById(\"InputPost_resourse\").value === \"\" &&\r\n    //       document.getElementById(\"InputPost_page\").value !== \"\"\r\n    //     )\r\n    //   ) {\r\n    //     let url =\r\n    //       \"https://backendstep.onrender.com/api/posts/updatePost/\" +\r\n    //       this.targetIDEditPost;\r\n    //     let options = {\r\n    //       method: \"PUT\",\r\n    //       mode: \"cors\",\r\n    //       headers: {\r\n    //         Authorization: \"Bearer \" + this.state.token,\r\n    //         \"Content-Type\": \"application/json\",\r\n    //       },\r\n    //       body: JSON.stringify({\r\n    //         note: document.getElementById(\"InputPost_textarea\").value,\r\n    //         category: document.getElementById(\"InputPost_category\").value,\r\n    //         subject: document.getElementById(\"InputPost_subject\").value,\r\n    //         reference: document.getElementById(\"InputPost_resourse\").value,\r\n    //         page_num: document.getElementById(\"InputPost_page\").value,\r\n    //       }),\r\n    //     };\r\n    //     if (\r\n    //       document.getElementById(\"InputPost_textarea\").value &&\r\n    //       document.getElementById(\"InputPost_category\").value &&\r\n    //       document.getElementById(\"InputPost_subject\").value\r\n    //     ) {\r\n    //       let req = new Request(url, options);\r\n    //       fetch(req)\r\n    //         .then((response) => {\r\n    // if (response.status === 201) {\r\n    //   //..............\r\n    //   //.............\r\n    //   document.getElementById(\r\n    //     this.targetIDEditPost\r\n    //   ).children[1].style.backgroundColor = \"var(--red)\";\r\n    //   document.getElementById(\r\n    //     this.targetIDEditPost\r\n    //   ).children[1].textContent = \"Edit\";\r\n    //   this.serverReply(\"post modified\");\r\n    //   //...............note-realtime-edit\r\n    //   document.getElementById(\r\n    //     this.targetIDEditPost\r\n    //   ).parentElement.parentElement.children[1].children[0].textContent =\r\n    //     document.getElementById(\"InputPost_textarea\").value;\r\n    //   //................................\r\n    //   //...............details-realtime-edit\r\n    //   document.getElementById(\r\n    //     this.targetIDEditPost\r\n    //   ).parentElement.parentElement.children[0].children[2].textContent =\r\n    //     \"System: \" +\r\n    //     document.getElementById(\"InputPost_category\").value;\r\n    //   document.getElementById(\r\n    //     this.targetIDEditPost\r\n    //   ).parentElement.parentElement.children[0].children[3].textContent =\r\n    //     \"Discipline: \" +\r\n    //     document.getElementById(\"InputPost_subject\").value;\r\n    //   if (\r\n    //     document.getElementById(this.targetIDEditPost).parentElement\r\n    //       .parentElement.children[0].children[4]\r\n    //   ) {\r\n    //     if (\r\n    //       document.getElementById(\"InputPost_resourse\").value !== \"\"\r\n    //     ) {\r\n    //       document.getElementById(\r\n    //         this.targetIDEditPost\r\n    //       ).parentElement.parentElement.children[0].children[4].textContent =\r\n    //         \"Reference: \" +\r\n    //         document.getElementById(\"InputPost_resourse\").value;\r\n    //     } else {\r\n    //       document\r\n    //         .getElementById(this.targetIDEditPost)\r\n    //         .parentElement.parentElement.children[0].children[4].remove();\r\n    //     }\r\n    //   } else {\r\n    //     if (\r\n    //       document.getElementById(\"InputPost_resourse\").value !== \"\"\r\n    //     ) {\r\n    //       let p_reference = document.createElement(\"p\");\r\n    //       p_reference.textContent =\r\n    //         \"Reference: \" +\r\n    //         document.getElementById(\"InputPost_resourse\").value;\r\n    //       document\r\n    //         .getElementById(this.targetIDEditPost)\r\n    //         .parentElement.parentElement.children[0].appendChild(\r\n    //           p_reference\r\n    //         );\r\n    //     }\r\n    //   }\r\n    //   if (\r\n    //     document.getElementById(this.targetIDEditPost).parentElement\r\n    //       .parentElement.children[0].children[5]\r\n    //   ) {\r\n    //     if (document.getElementById(\"InputPost_page\").value !== \"\") {\r\n    //       document.getElementById(\r\n    //         this.targetIDEditPost\r\n    //       ).parentElement.parentElement.children[0].children[5].textContent =\r\n    //         \"Page#: \" +\r\n    //         document.getElementById(\"InputPost_page\").value;\r\n    //     } else {\r\n    //       document\r\n    //         .getElementById(this.targetIDEditPost)\r\n    //         .parentElement.parentElement.children[0].children[5].remove();\r\n    //     }\r\n    //   } else {\r\n    //     if (document.getElementById(\"InputPost_page\").value !== \"\") {\r\n    //       let p_page = document.createElement(\"p\");\r\n    //       p_page.textContent =\r\n    //         \"Page #: \" +\r\n    //         document.getElementById(\"InputPost_page\").value;\r\n    //       document\r\n    //         .getElementById(this.targetIDEditPost)\r\n    //         .parentElement.parentElement.children[0].appendChild(\r\n    //           p_page\r\n    //         );\r\n    //     }\r\n    //   }\r\n    //   //..................\r\n    //   document.getElementById(\"InputPost_post_button\").innerHTML =\r\n    //     \"Post\";\r\n    // } else {\r\n    //   this.serverReply(\"modify failed\");\r\n    // }\r\n    //       })\r\n    //       .then(() => {\r\n    //         document.getElementById(\"InputPost_textarea\").value = \"\";\r\n    //         document.getElementById(\"InputPost_category\").value = \"\";\r\n    //         document.getElementById(\"InputPost_subject\").value = \"\";\r\n    //         document.getElementById(\"InputPost_resourse\").value = \"\";\r\n    //         document.getElementById(\"InputPost_page\").value = \"\";\r\n    //       });\r\n    //   } else {\r\n    //     this.serverReply(\r\n    //       \"Modifying failed. Please make sure you select a category and/or a subject for your note\"\r\n    //     );\r\n    //   }\r\n    // } else {\r\n    //   this.serverReply(\r\n    //     \"Modifying failed. You can't enter a page number without a reference.\"\r\n    //   );\r\n    // }\r\n    // this.enableEditPost = false;\r\n    // } else {\r\n    // if (\r\n    //   !(\r\n    //     document.getElementById(\"InputPost_resourse\").value === \"\" &&\r\n    //     document.getElementById(\"InputPost_page\").value !== \"\"\r\n    //   )\r\n    // ) {\r\n    // let posting_check = 0;\r\n    document.getElementById(\"InputPost_textarea\").style.height = \"0\";\r\n    this.setState({\r\n      app_is_loading: true,\r\n    });\r\n    let url = \"https://backendstep.onrender.com/api/posts/addNew\";\r\n    let options = {\r\n      method: \"POST\",\r\n      mode: \"cors\",\r\n      headers: {\r\n        Authorization: \"Bearer \" + this.state.token,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        id: this.state.my_id,\r\n        firstname: this.state.firstname,\r\n        lastname: this.state.lastname,\r\n        note: document.getElementById(\"InputPost_textarea\").value,\r\n        category: document.getElementById(\"InputPost_category\").value,\r\n        subject: document.getElementById(\"InputPost_subject\").value,\r\n        reference: document.getElementById(\"InputPost_resourse\").value,\r\n        page_num: document.getElementById(\"InputPost_page\").value,\r\n        comments: [],\r\n        date: new Date(),\r\n      }),\r\n    };\r\n    let req = new Request(url, options);\r\n    fetch(req)\r\n      .then((result) => {\r\n        if (result.status === 201) {\r\n          // let ul = document.getElementById(\"MountPosts_content_container\");\r\n          // ul.innerHTML = \"\";\r\n          return result.json(result);\r\n        }\r\n      })\r\n      .then((result) => {\r\n        if (result) {\r\n          document.getElementById(\"InputPost_textarea\").value = \"\";\r\n          document.getElementById(\"InputPost_category\").value = \"\";\r\n          document.getElementById(\"InputPost_subject\").value = \"\";\r\n          document.getElementById(\"InputPost_resourse\").value = \"\";\r\n          document.getElementById(\"InputPost_page\").value = \"\";\r\n          //.........................................\r\n          this.state.friends.forEach((friend) => {\r\n            let url_2 =\r\n              \"https://backendstep.onrender.com/api/posts/postAdd/\" +\r\n              friend._id +\r\n              \"/\" +\r\n              result._id;\r\n            let options_2 = {\r\n              method: \"POST\",\r\n              mode: \"cors\",\r\n              headers: {\r\n                Authorization: \"Bearer \" + this.state.token,\r\n                \"Content-Type\": \"application/json\",\r\n              },\r\n            };\r\n            let req_2 = new Request(url_2, options_2);\r\n            fetch(req_2);\r\n          });\r\n\r\n          return result;\r\n        }\r\n      })\r\n      .then((result) => {\r\n        let url_2 =\r\n          \"https://backendstep.onrender.com/api/posts/postAdd/\" +\r\n          this.state.my_id +\r\n          \"/\" +\r\n          result._id;\r\n        let options_2 = {\r\n          method: \"POST\",\r\n          mode: \"cors\",\r\n          headers: {\r\n            Authorization: \"Bearer \" + this.state.token,\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n        };\r\n        let req_2 = new Request(url_2, options_2);\r\n        fetch(req_2);\r\n        return result;\r\n      });\r\n    // .then((result) => {\r\n    //   let ul = document.getElementById(\"MountPosts_content_container\");\r\n    //   let date_p = document.createElement(\"p\");\r\n    //   let category_p = document.createElement(\"p\");\r\n    //   let subject_p = document.createElement(\"p\");\r\n    //   let reference_p = document.createElement(\"p\");\r\n    //   let page_p = document.createElement(\"p\");\r\n    //   let li = document.createElement(\"li\");\r\n    //   let details_div = document.createElement(\"div\");\r\n    //   let note_options_div = document.createElement(\"div\");\r\n    //   //.............................comments.......................\r\n\r\n    //   //............date.................................\r\n    //   let date = result.date;\r\n    //   let date_timezone = new Date(date);\r\n    //   let date_string = date_timezone.toDateString();\r\n    //   let time_string = date_timezone.toLocaleTimeString();\r\n    //   //.............................................\r\n    //   //...............................note..................................\r\n    //   let note_p = document.createElement(\"p\");\r\n    //   note_p.textContent = result.note;\r\n    //   note_p.setAttribute(\"class\", \"note_p\");\r\n    //   note_options_div.setAttribute(\"class\", \"fr note_options_div\");\r\n    //   note_options_div.setAttribute(\"id\", \"note_options_div\" + \"new\");\r\n    //   note_options_div.appendChild(note_p);\r\n    //   //.......................Options....................................\r\n    //   let options_div = document.createElement(\"div\");\r\n    //   //............................Poster name.......................\r\n    //   let postername_p = document.createElement(\"p\");\r\n    //   postername_p.setAttribute(\"class\", \"postername_p\");\r\n    //   details_div.appendChild(postername_p);\r\n    //   //..................................\r\n\r\n    //   if (result.id === this.state.my_id) {\r\n    //     postername_p.textContent = \"Mine\";\r\n    //     let p_delete = document.createElement(\"p\");\r\n    //     let p_edit = document.createElement(\"p\");\r\n    //     p_delete.style.cursor = \"pointer\";\r\n    //     p_edit.style.cursor = \"pointer\";\r\n    //     p_delete.textContent = \"Delete\";\r\n    //     p_edit.textContent = \"Edit\";\r\n    //     options_div.appendChild(p_delete);\r\n    //     options_div.appendChild(p_edit);\r\n    //     p_delete.addEventListener(\"click\", () =>\r\n    //       this.deletePost(options_div.id)\r\n    //     );\r\n    //     p_edit.addEventListener(\"click\", () => this.editPost(options_div.id));\r\n    //     note_options_div.appendChild(options_div);\r\n    //     options_div.setAttribute(\r\n    //       \"class\",\r\n    //       \"fc MountPosts_postOptionsContainer\"\r\n    //     );\r\n    //     options_div.setAttribute(\"id\", result._id);\r\n    //   } else {\r\n    //     postername_p.textContent = result.firstname + \" \" + result.lastname;\r\n    //   }\r\n    //   //........................................................................\r\n\r\n    //   //.....................................................................\r\n    //   li.className = \"fc\";\r\n\r\n    //   date_p.innerHTML =\r\n    //     \"<i class='far fa-clock'></i>\" +\r\n    //     \"  \" +\r\n    //     date_string +\r\n    //     \", \" +\r\n    //     time_string;\r\n    //   category_p.textContent = \"System: \" + result.category;\r\n    //   subject_p.textContent = \"Discipline: \" + result.subject;\r\n    //   reference_p.textContent = \"Reference: \" + result.reference;\r\n    //   page_p.textContent = \"Page #: \" + result.page_num;\r\n    //   date_p.className = \"MountPosts_date\";\r\n    //   details_div.appendChild(date_p);\r\n    //   details_div.appendChild(category_p);\r\n    //   details_div.appendChild(subject_p);\r\n    //   details_div.setAttribute(\"class\", \"fr details_div\");\r\n    //   //...................comments...............\r\n    //   let comments_div = document.createElement(\"div\");\r\n    //   let comment_input = document.createElement(\"input\");\r\n    //   let commentlist_ul = document.createElement(\"ul\");\r\n    //   comments_div.appendChild(comment_input);\r\n    //   comments_div.setAttribute(\"class\", \"fc comments_div\");\r\n    //   comments_div.setAttribute(\"id\", \"commentDiv\" + result._id);\r\n    //   comment_input.setAttribute(\"id\", \"comment_input\" + result._id);\r\n    //   comment_input.setAttribute(\"class\", \"comment_input\");\r\n    //   commentlist_ul.setAttribute(\"id\", \"commentlist_ul\" + result._id);\r\n    //   comment_input.setAttribute(\"placeholder\", \"Enter a comment\");\r\n    //   comment_input.addEventListener(\"keypress\", (event) => {\r\n    //     this.postComment(event, comments_div.id, comment_input.id);\r\n    //   });\r\n    //   result.comments.forEach((comment) => {\r\n    //     let comment_li = document.createElement(\"li\");\r\n    //     comment_li.textContent = comment;\r\n    //     comment_li.setAttribute(\"class\", \"comment_li\");\r\n    //     commentlist_ul.setAttribute(\"class\", \"fc commentlist_ul\");\r\n    //     commentlist_ul.prepend(comment_li);\r\n    //     comments_div.appendChild(commentlist_ul);\r\n    //   });\r\n    //   //.....................................................\r\n\r\n    //   if (!(result.reference === \"\" && result.page_num !== null)) {\r\n    //     if (result.reference !== \"\") details_div.appendChild(reference_p);\r\n    //     if (result.page_num !== null) details_div.appendChild(page_p);\r\n    //   }\r\n    //   li.setAttribute(\"id\", \"li\" + result._id);\r\n    //   li.appendChild(details_div);\r\n    //   li.appendChild(note_options_div);\r\n    //   li.appendChild(comments_div);\r\n    //   ul.appendChild(li);\r\n\r\n    //   //   this.serverReply(\r\n    //   //     \"Posting failed. Please make sure you select a category and/or a subject for your note\"\r\n    //   //   );\r\n    //   this.setState({\r\n    //     app_is_loading: false,\r\n    //   });\r\n    //   // } else {\r\n    //   //   this.serverReply(\"Posted successfully!\");\r\n    //   // }\r\n    // });\r\n    // } else {\r\n    //   this.serverReply(\r\n    //     \"Posting failed. You can't enter a page number without a reference.\"\r\n    //   );\r\n\r\n    //.........................................\r\n  };\r\n  ////////////////////////////////Deleting Post///////////////////////////////////////////\r\n  deletePost_enabled = false;\r\n  deletePost = (post_id) => {\r\n    let url =\r\n      \"https://backendstep.onrender.com/api/posts/deletePost/\" + post_id;\r\n    let options = {\r\n      method: \"DELETE\",\r\n      mode: \"cors\",\r\n      headers: {\r\n        Authorization: \"Bearer \" + this.state.token,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    };\r\n    let req = new Request(url, options);\r\n    fetch(req).then((response) => {\r\n      if (response.status === 201) {\r\n        this.deletePost_enabled = true;\r\n        // document.getElementById(post_id).parentElement.parentElement.remove();\r\n        this.serverReply(\"post deleted\");\r\n        // for (var i = 0; i < this.state.posts_alreadyBuilt.length; i++) {\r\n        //   if (post_id === this.state.posts_alreadyBuilt[i])\r\n        //     this.state.posts_alreadyBuilt.splice(i, 1);\r\n        // }\r\n      } else {\r\n        this.serverReply(\"delete failed\");\r\n      }\r\n    });\r\n  };\r\n  ////////////////////////////////Edit Post///////////////////////////////////////////\r\n  enableEditPost = false;\r\n  targetIDEditPost;\r\n  editPostControlCounter = -1;\r\n  editPost = (post_id) => {\r\n    this.editPostControlCounter++;\r\n    if (this.editPostControlCounter % 2 === 0) {\r\n      this.targetIDEditPost = post_id;\r\n      this.state.posts.forEach((post) => {\r\n        if (post._id === post_id) {\r\n          document.getElementById(\"InputPost_textarea\").value = post.note;\r\n          document.getElementById(\"InputPost_category\").value = post.category;\r\n          document.getElementById(\"InputPost_subject\").value = post.subject;\r\n          document.getElementById(\"InputPost_resourse\").value = post.reference;\r\n          document.getElementById(\"InputPost_page\").value = post.page_num;\r\n          this.enableEditPost = true;\r\n          document.getElementById(\"InputPost_post_button\").innerHTML = \"Edit\";\r\n          document.getElementById(post_id).children[1].textContent = \"Cancel?\";\r\n          document.getElementById(post_id).children[1].style.backgroundColor =\r\n            \"var(--black)\";\r\n        }\r\n      });\r\n    } else {\r\n      document.getElementById(\"InputPost_textarea\").value = \"\";\r\n      document.getElementById(\"InputPost_category\").value = \"\";\r\n      document.getElementById(\"InputPost_subject\").value = \"\";\r\n      document.getElementById(\"InputPost_resourse\").value = \"\";\r\n      document.getElementById(\"InputPost_page\").value = \"\";\r\n      this.enableEditPost = false;\r\n      document.getElementById(\"InputPost_post_button\").innerHTML = \"Post\";\r\n      document.getElementById(post_id).children[1].style.backgroundColor =\r\n        \"var(--red)\";\r\n      document.getElementById(post_id).children[1].textContent = \"Edit\";\r\n    }\r\n  };\r\n  ////////////////////////Post Comment/////////////////////////////\r\n  postComment = (event, post_id, input_id) => {\r\n    if (event.which === 13) {\r\n      let url =\r\n        \"https://backendstep.onrender.com/api/posts/commentPost/\" +\r\n        post_id.slice(10, post_id.length) +\r\n        \"/\" +\r\n        document.getElementById(input_id).value;\r\n      let options = {\r\n        method: \"PUT\",\r\n        mode: \"cors\",\r\n        headers: {\r\n          Authorization: \"Bearer \" + this.state.token,\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n      };\r\n      let req = new Request(url, options);\r\n      fetch(req).then((response) => {\r\n        if (response.status === 201) {\r\n          document.getElementById(input_id).value = \"\";\r\n          this.serverReply(\"post modified\");\r\n        } else {\r\n          this.serverReply(\"modify failed\");\r\n        }\r\n      });\r\n    }\r\n  };\r\n  //////////////////////////SEND MESSAGE TO FRIEND'S Chat////////////////////////////////\r\n  sendToThemMessage = (message) => {\r\n    let textarea = document.getElementById(\"Chat_textarea_input\");\r\n    textarea.style.height = \"70px\";\r\n    if (message && message.trim() !== \"\") {\r\n      let url =\r\n        \"https://backendstep.onrender.com/api/chat/sendMessage/\" +\r\n        this.state.friendID_selected +\r\n        \"/\" +\r\n        this.state.my_id;\r\n      let options = {\r\n        method: \"POST\",\r\n        mode: \"cors\",\r\n        headers: {\r\n          Authorization: \"Bearer \" + this.state.token,\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({\r\n          message: document.getElementById(\"Chat_textarea_input\").value,\r\n        }),\r\n      };\r\n      let req = new Request(url, options);\r\n      fetch(req).then((result) => {\r\n        if (result.status === 201) {\r\n          document.getElementById(\"Chat_textarea_input\").value = \"\";\r\n        }\r\n      });\r\n    } else {\r\n      this.serverReply(\"You can't send an empty message\");\r\n    }\r\n  };\r\n\r\n  ////////////////////////ACCEPT FRIEND/////////////////////////////////////////////\r\n\r\n  acceptFriend = (friend) => {\r\n    let friend_trim = friend.slice(11, friend.length);\r\n    document.getElementById(friend_trim).style.backgroundColor = \"var(--black)\";\r\n    document.getElementById(\"server_answer_message\").textContent = \"Adding ...\";\r\n    document.getElementById(\"server_answer\").style.width = \"fit-content\";\r\n    let url =\r\n      \"https://backendstep.onrender.com/api/user/acceptFriend/\" +\r\n      this.state.my_id +\r\n      \"/\" +\r\n      friend_trim;\r\n    let options = {\r\n      method: \"POST\",\r\n      mode: \"cors\",\r\n      headers: {\r\n        Authorization: \"Bearer \" + this.state.token,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    };\r\n    let req = new Request(url, options);\r\n    fetch(req).then((response) => {\r\n      if (response.status === 201) {\r\n        document.getElementById(\"server_answer_message\").textContent =\r\n          \"You're now friends!\";\r\n\r\n        let url =\r\n          \"https://backendstep.onrender.com/api/user/editUserInfo/\" +\r\n          this.state.my_id +\r\n          \"/\" +\r\n          friend_trim;\r\n        let options = {\r\n          method: \"PUT\",\r\n          mode: \"cors\",\r\n          headers: {\r\n            Authorization: \"Bearer \" + this.state.token,\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n        };\r\n        let req = new Request(url, options);\r\n        fetch(req).then((response) => {\r\n          if (response.ok) {\r\n            setTimeout(() => {\r\n              document.getElementById(\"server_answer\").style.width = \"0\";\r\n              document.getElementById(\"server_answer_message\").textContent = \"\";\r\n            }, 5000);\r\n            document.getElementById(friend_trim).parentElement.style.display =\r\n              \"none\";\r\n          }\r\n        });\r\n      }\r\n      if (response.status === 409) {\r\n        document.getElementById(\"server_answer_message\").textContent =\r\n          \"You're already friends!\";\r\n        setTimeout(() => {\r\n          document.getElementById(\"server_answer\").style.width = \"0\";\r\n          document.getElementById(\"server_answer_message\").textContent = \"\";\r\n        }, 5000);\r\n        document.getElementById(friend_trim).parentElement.style.display =\r\n          \"none\";\r\n      }\r\n    });\r\n  };\r\n  ////////////////////////Decline Request/////////////////////////////////////////////\r\n\r\n  makeNotificationsRead = (friend) => {\r\n    let friend_trim = friend.slice(12, friend.length);\r\n    alert(friend_trim);\r\n    let url =\r\n      \"https://backendstep.onrender.com/api/user/editUserInfo/\" +\r\n      this.state.my_id +\r\n      \"/\" +\r\n      friend_trim;\r\n\r\n    let options = {\r\n      method: \"PUT\",\r\n      mode: \"cors\",\r\n      headers: {\r\n        Authorization: \"Bearer \" + this.state.token,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    };\r\n    let req = new Request(url, options);\r\n    fetch(req).then((response) => {\r\n      document.getElementById(friend_trim).style.backgroundColor =\r\n        \"var(--black)\";\r\n      if (response.status === 200) {\r\n        document.getElementById(friend_trim).parentElement.style.display =\r\n          \"none\";\r\n        document.getElementById(\"server_answer\").style.width = \"fit-content\";\r\n        document.getElementById(\"server_answer_message\").textContent = \"Done!\";\r\n        setTimeout(() => {\r\n          document.getElementById(\"server_answer\").style.width = \"0\";\r\n          document.getElementById(\"server_answer_message\").textContent = \"\";\r\n        }, 5000);\r\n      }\r\n    });\r\n  };\r\n\r\n  //////////////////////////////BUILD FRIENDS LIST////////////////\r\n  app_friends = [];\r\n\r\n  buildFriendsList = () => {\r\n    //...START FETCHING FRIENDS\r\n    let url =\r\n      \"https://backendstep.onrender.com/api/user/update/\" + this.state.my_id;\r\n    let req = new Request(url, {\r\n      method: \"GET\",\r\n      mode: \"cors\",\r\n      headers: {\r\n        Authorization: \"Bearer \" + this.state.token,\r\n      },\r\n    });\r\n    fetch(req)\r\n      .then((response) => {\r\n        if (response.status === 200) {\r\n          return response.json();\r\n        }\r\n      })\r\n      .then((jsonData) => {\r\n        //...END FETCHING FRIENDS\r\n        let ul = document.getElementById(\"FriendsList_friends_list\");\r\n\r\n        for (var i = 0; i < jsonData.friends.length; i++) {\r\n          this.setState({\r\n            friends: jsonData.friends,\r\n          });\r\n          //For every friend\r\n          if (this.app_friends[i] !== jsonData.friends[i]._id) {\r\n            //If a friend is new to the app add it to the friends list with respect to the online status and to the app memory\r\n            let p = document.createElement(\"p\");\r\n            let li = document.createElement(\"li\");\r\n            let icon = document.createElement(\"i\");\r\n\r\n            p.textContent =\r\n              jsonData.friends[i].info.firstname +\r\n              \" \" +\r\n              jsonData.friends[i].info.lastname;\r\n            p.setAttribute(\"id\", [i]);\r\n            li.appendChild(p);\r\n            li.setAttribute(\"id\", jsonData.friends[i]._id);\r\n            li.addEventListener(\"click\", () => {\r\n              this.get_current_friend_chat_id(li.id);\r\n\r\n              document.getElementById(\r\n                \"DropHorizontally_article\"\r\n              ).style.display = \"none\";\r\n            });\r\n            li.setAttribute(\"class\", \"fr\");\r\n            li.setAttribute(\"title\", jsonData.friends[i].info.firstname);\r\n            icon.setAttribute(\"id\", \"online_icon\" + jsonData.friends[i]._id);\r\n            icon.setAttribute(\"class\", \"fas fa-circle\");\r\n            li.appendChild(icon);\r\n            ul.appendChild(li);\r\n            if (jsonData.friends[i].status.isConnected) {\r\n              icon.style.color = \"#32cd32\";\r\n            } else {\r\n              icon.style.color = \"var(--black)\";\r\n            }\r\n            this.app_friends[i] = jsonData.friends[i]._id;\r\n          }\r\n          // if (this.app_friends[i] === jsonData.friends[i]._id) {\r\n          //   // if we already have this friend in the memory app just check their online status and change it\r\n          //   if (jsonData.friends[i].status.isConnected) {\r\n          //     document.getElementById(\r\n          //       \"online_icon\" + jsonData.friends[i]._id\r\n          //     ).style.color = \"#32cd32\";\r\n          //   } else {\r\n          //     document.getElementById(\r\n          //       \"online_icon\" + jsonData.friends[i]._id\r\n          //     ).style.color = \"var(--black)\";\r\n          //   }\r\n          // }\r\n        }\r\n      });\r\n  };\r\n\r\n  ////////////////////////////Select friend id to chat //////////////////////////////////////////////////\r\n  get_current_friend_chat_id = (friendID) => {\r\n    this.setState({\r\n      friendID_selected: friendID,\r\n    });\r\n    this.state.friends.forEach((friend) => {\r\n      if (friend._id === friendID) {\r\n        document.getElementById(\"Chat_title_text\").textContent =\r\n          friend.info.firstname;\r\n      }\r\n    });\r\n    document.getElementById(\"Chat_goback_icon\").style.display = \"inline\";\r\n    document.getElementById(\"Chat_article\").style.height = \"100%\";\r\n    document.getElementById(\"FriendsList_article\").style.height = \"0\";\r\n\r\n    this.RetrievingMySendingMessages(friendID);\r\n  };\r\n\r\n  ///DeleteFriendPost\r\n  deleteFriendPost = (post_id) => {\r\n    document.getElementById(\"li\" + post_id).remove();\r\n  };\r\n  ////////////////////////////Update State//////////DONE/////////////////////\r\n  updateUserInfo = () => {\r\n    let url =\r\n      \"https://backendstep.onrender.com/api/user/update/\" + this.state.my_id;\r\n    let req = new Request(url, {\r\n      method: \"GET\",\r\n      mode: \"cors\",\r\n      headers: {\r\n        Authorization: \"Bearer \" + this.state.token,\r\n      },\r\n    });\r\n    fetch(req)\r\n      .then((response) => {\r\n        if (response.status === 200) {\r\n          return response.json();\r\n        }\r\n      })\r\n      .then((jsonData) => {\r\n        this.setState({\r\n          friends: jsonData.friends,\r\n          chat: jsonData.chat,\r\n          notifications: jsonData.notifications,\r\n          terminology: jsonData.terminology,\r\n          study_session: jsonData.study_session,\r\n          isOnline: jsonData.isOnline,\r\n        });\r\n        //.....\r\n        var deleted = false;\r\n        var id;\r\n        //....\r\n        for (\r\n          var i = 0;\r\n          i < this.state.posts_alreadyBuilt.length &&\r\n          this.state.posts_alreadyBuilt.length > jsonData.posts.length;\r\n          i++\r\n        ) {\r\n          for (var j = 0; j < jsonData.posts.length; j++) {\r\n            if (this.state.posts_alreadyBuilt[i] !== jsonData.posts[j]._id) {\r\n              console.log(\"Posts= \" + this.state.posts.length);\r\n              console.log(\"Posts database= \" + jsonData.posts.length);\r\n              console.log(\r\n                \"Posts already built= \" + this.state.posts_alreadyBuilt.length\r\n              );\r\n              id = this.state.posts_alreadyBuilt[i];\r\n              this.state.posts_alreadyBuilt.splice(i, 1);\r\n              this.deleteFriendPost(id);\r\n            }\r\n          }\r\n        }\r\n        return jsonData;\r\n      })\r\n      .then((jsonData) => {\r\n        alert(\"Df\");\r\n        this.state.posts = jsonData.posts;\r\n      })\r\n      .catch((err) => {\r\n        if (err.message === \"Cannot read property 'credentials' of null\")\r\n          console.log(\"Error\", err.message);\r\n      });\r\n  };\r\n\r\n  ////////////////////////////////////BUILD NOTIFICATIONS////////////////////////\r\n  notificaitons_array = [];\r\n\r\n  buildNotifications = () => {\r\n    let ul = document.getElementById(\"Notifications_dropMenu_container\");\r\n    for (var i = 0; i < this.state.notifications.length; i++) {\r\n      if (\r\n        this.state.notifications[i].status !== \"read\" &&\r\n        this.notificaitons_array[i] !== this.state.notifications[i]._id\r\n      ) {\r\n        document.getElementById(\"i_bell_open\").style.color = \"yellow\";\r\n        let p = document.createElement(\"p\");\r\n        let li = document.createElement(\"li\");\r\n        let div = document.createElement(\"div\");\r\n        let decline_icon = document.createElement(\"i\");\r\n        let accept_icon = document.createElement(\"i\");\r\n\r\n        decline_icon.setAttribute(\"class\", \"fas fa-times\");\r\n        accept_icon.setAttribute(\"class\", \"fas fa-user-check\");\r\n        accept_icon.setAttribute(\r\n          \"id\",\r\n          \"accept_icon\" + this.state.notifications[i].id\r\n        );\r\n        decline_icon.setAttribute(\r\n          \"id\",\r\n          \"decline_icon\" + this.state.notifications[i].id\r\n        );\r\n        decline_icon.addEventListener(\"click\", () => {\r\n          this.makeNotificationsRead(decline_icon.id);\r\n        });\r\n        accept_icon.addEventListener(\"click\", () => {\r\n          this.acceptFriend(accept_icon.id);\r\n        });\r\n\r\n        p.textContent = this.state.notifications[i].message;\r\n        div.setAttribute(\"class\", \"fr\");\r\n        div.style.justifyContent = \"space-between\";\r\n        li.setAttribute(\"id\", this.state.notifications[i].id);\r\n        li.appendChild(p);\r\n        div.appendChild(li);\r\n        div.appendChild(decline_icon);\r\n        div.appendChild(accept_icon);\r\n        ul.appendChild(div);\r\n      }\r\n\r\n      this.notificaitons_array[i] = this.state.notifications[i]._id;\r\n    }\r\n  };\r\n  ///////////////////////////////////////Counter////////////////////////////////////////////////\r\n  counter = () => {\r\n    let secs;\r\n    let mins;\r\n    let hours;\r\n    document.getElementById(\"Posts_content_container\").style.height = \"100%\";\r\n    // document.getElementById(\"Footer_article\").style.display = \"none\";\r\n    // document.getElementById(\"SearchPosts_article\").style.display = \"flex\";\r\n    // document.getElementById(\"Header_timer_h1\").style.display = \"inline\";\r\n    if (JSON.parse(sessionStorage.getItem(\"Header_timer_h1\"))) {\r\n      secs = JSON.parse(sessionStorage.getItem(\"Header_timer_h1\")).secs;\r\n      mins = JSON.parse(sessionStorage.getItem(\"Header_timer_h1\")).mins;\r\n      hours = JSON.parse(sessionStorage.getItem(\"Header_timer_h1\")).hours;\r\n    } else {\r\n      secs = 0;\r\n      mins = 0;\r\n      hours = 0;\r\n    }\r\n    setInterval(() => {\r\n      secs++;\r\n      if (secs % 60 === 0 && secs !== 0) {\r\n        mins++;\r\n        secs = 0;\r\n      }\r\n      if (mins % 60 === 0 && mins !== 0) {\r\n        hours++;\r\n        mins = 0;\r\n      }\r\n\r\n      this.setState({\r\n        timer: {\r\n          hours: hours,\r\n          mins: mins,\r\n          secs: secs,\r\n        },\r\n      });\r\n    }, 1000);\r\n  };\r\n\r\n  ////////////////////////////////////////////////////UPDATE isConnect on databae////////////////////////////////\r\n\r\n  updateBeforeLeave = () => {\r\n    let url =\r\n      \"https://backendstep.onrender.com/api/user/updateBeforeLeave/\" +\r\n      this.state.my_id;\r\n    let options = {\r\n      method: \"PUT\",\r\n      mode: \"cors\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        study_session: {\r\n          date: new Date(),\r\n          length: this.state.timer,\r\n        },\r\n      }),\r\n    };\r\n\r\n    let req = new Request(url, options);\r\n    fetch(req)\r\n      .then((response) => {\r\n        if (response.status === 201 && this.state.isConnected === false) {\r\n          sessionStorage.removeItem(\"Header_timer_h1\");\r\n          sessionStorage.removeItem(\"state\");\r\n          window.location.reload();\r\n          return response.json();\r\n        } else {\r\n          throw new Error(\"bad Http\");\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"error:\", err.message);\r\n      });\r\n  };\r\n\r\n  //........Server answer..........\r\n  serverReply = (answer) => {\r\n    document.getElementById(\"server_answer_message\").textContent = answer;\r\n\r\n    document.getElementById(\"server_answer\").style.width = \"fit-content\";\r\n    setTimeout(() => {\r\n      document.getElementById(\"server_answer\").style.width = \"0\";\r\n      document.getElementById(\"server_answer_message\").textContent = \"\";\r\n    }, 8000);\r\n  };\r\n\r\n  //.....loader function..........\r\n  loader = () => {\r\n    return (\r\n      <div\r\n        style={{\r\n          fontSize: \"20pt\",\r\n          display: \"flex\",\r\n          position: \"fixed\",\r\n          top: \"0\",\r\n          bottom: \"0\",\r\n\r\n          justifyContent: \"center\",\r\n          alignContent: \"center\",\r\n          flexDirection: \"column\",\r\n          zIndex: \"100\",\r\n        }}\r\n      >\r\n        <img src=\"/img/loader.gif\" alt=\"\" width=\"70px\" />\r\n      </div>\r\n    );\r\n  };\r\n\r\n  /////////////////////////Log out//////////////////////\r\n  logOut = () => {\r\n    this.setState({\r\n      isConnected: false,\r\n    });\r\n    if (this.props.path === \"/study\") {\r\n      let input = window.confirm(\r\n        \"Do you want this study session to be counted?\"\r\n      );\r\n      if (input) {\r\n        this.updateBeforeLeave();\r\n      } else {\r\n        this.dbUpdate_user_connected(false);\r\n      }\r\n    }\r\n    if (this.props.path === \"/\") {\r\n      this.dbUpdate_user_connected(false);\r\n    }\r\n  };\r\n\r\n  ///////////////////////Searching in posts////////////////////\r\n  prepare_searchPosts = (entry1, entry2, entry3) => {\r\n    let keyword;\r\n    let subject;\r\n    let category;\r\n    if (!entry1) {\r\n      keyword = \"$\";\r\n    } else {\r\n      keyword = entry1;\r\n    }\r\n    if (!entry2) {\r\n      subject = \"$\";\r\n    } else {\r\n      subject = entry2;\r\n    }\r\n    if (!entry3) {\r\n      category = \"$\";\r\n    } else {\r\n      category = entry3;\r\n    }\r\n    this.searchPosts(keyword, subject, category);\r\n  };\r\n  searchPosts = (keyword, subject, category) => {\r\n    let ul = document.getElementById(\"MountPosts_content_container\");\r\n    let ul_term = document.getElementById(\"Terminology_content_container\");\r\n    let array = [];\r\n    let array_term = [];\r\n    ul.innerHTML = \"\";\r\n    ul_term.innerHTML = \"\";\r\n    //..................................\r\n    this.state.posts.forEach((post) => {\r\n      if (keyword !== \"$\" && subject === \"$\" && category === \"$\") {\r\n        if (\r\n          String(post.note).toLowerCase() === keyword.toLowerCase() ||\r\n          String(post.note).toLowerCase().includes(keyword.toLowerCase())\r\n        ) {\r\n          array.push(post);\r\n        }\r\n      }\r\n      if (keyword === \"$\" && subject !== \"$\" && category === \"$\") {\r\n        if (post.subject === subject) {\r\n          array.push(post);\r\n        }\r\n      }\r\n      if (keyword === \"$\" && subject === \"$\" && category !== \"$\") {\r\n        if (post.category === category) {\r\n          array.push(post);\r\n        }\r\n      }\r\n      if (keyword !== \"$\" && subject !== \"$\" && category === \"$\") {\r\n        if (\r\n          String(post.note).toLowerCase() === keyword.toLowerCase() ||\r\n          String(post.note)\r\n            .toLowerCase()\r\n            .includes(keyword.toLowerCase() && post.subject === subject)\r\n        ) {\r\n          array.push(post);\r\n        }\r\n      }\r\n      if (keyword !== \"$\" && subject === \"$\" && category !== \"$\") {\r\n        if (\r\n          String(post.note).toLowerCase() === keyword.toLowerCase() ||\r\n          String(post.note)\r\n            .toLowerCase()\r\n            .includes(keyword.toLowerCase() && post.category === category)\r\n        ) {\r\n          array.push(post);\r\n        }\r\n      }\r\n      if (keyword === \"$\" && subject !== \"$\" && category !== \"$\") {\r\n        if (post.subject === subject && post.category === category) {\r\n          array.push(post);\r\n        }\r\n      }\r\n      if (keyword !== \"$\" && subject !== \"$\" && category !== \"$\") {\r\n        if (\r\n          String(post.note).toLowerCase() === keyword.toLowerCase() ||\r\n          String(post.note)\r\n            .toLowerCase()\r\n            .includes(\r\n              keyword.toLowerCase() &&\r\n                post.subject === subject &&\r\n                post.category === category\r\n            )\r\n        ) {\r\n          array.push(post);\r\n        }\r\n      }\r\n    });\r\n    //..............................................\r\n    this.state.terminology.forEach((term) => {\r\n      if (keyword !== \"$\" && subject === \"$\" && category === \"$\") {\r\n        if (\r\n          String(term.term).toLowerCase() === keyword.toLowerCase() ||\r\n          String(term.term).toLowerCase().includes(keyword.toLowerCase())\r\n        ) {\r\n          array_term.push(term);\r\n        }\r\n      }\r\n      if (keyword === \"$\" && subject !== \"$\" && category === \"$\") {\r\n        if (term.subject === subject) {\r\n          array_term.push(term);\r\n        }\r\n      }\r\n      if (keyword === \"$\" && subject === \"$\" && category !== \"$\") {\r\n        if (term.category === category) {\r\n          array_term.push(term);\r\n        }\r\n      }\r\n      if (keyword !== \"$\" && subject !== \"$\" && category === \"$\") {\r\n        if (\r\n          String(term.note).toLowerCase() === keyword.toLowerCase() ||\r\n          String(term.note)\r\n            .toLowerCase()\r\n            .includes(keyword.toLowerCase() && term.subject === subject)\r\n        ) {\r\n          array_term.push(term);\r\n        }\r\n      }\r\n      if (keyword !== \"$\" && subject === \"$\" && category !== \"$\") {\r\n        if (\r\n          String(term.note).toLowerCase() === keyword.toLowerCase() ||\r\n          String(term.note)\r\n            .toLowerCase()\r\n            .includes(keyword.toLowerCase() && term.category === category)\r\n        ) {\r\n          array_term.push(term);\r\n        }\r\n      }\r\n      if (keyword === \"$\" && subject !== \"$\" && category !== \"$\") {\r\n        if (term.subject === subject && term.category === category) {\r\n          array_term.push(term);\r\n        }\r\n      }\r\n      if (keyword !== \"$\" && subject !== \"$\" && category !== \"$\") {\r\n        if (\r\n          String(term.note).toLowerCase() === keyword.toLowerCase() ||\r\n          String(term.note)\r\n            .toLowerCase()\r\n            .includes(\r\n              keyword.toLowerCase() &&\r\n                term.subject === subject &&\r\n                term.category === category\r\n            )\r\n        ) {\r\n          array_term.push(term);\r\n        }\r\n      }\r\n    });\r\n    //.......................................\r\n    this.searchTerminology(array_term);\r\n    //.............................................\r\n    let array_associate = [];\r\n    for (var i = 0; i < array.length; i++) {\r\n      if (array_associate[i] !== array[i]._id) {\r\n        let date_p = document.createElement(\"p\");\r\n        let category_p = document.createElement(\"p\");\r\n        let subject_p = document.createElement(\"p\");\r\n        let reference_p = document.createElement(\"p\");\r\n        let page_p = document.createElement(\"p\");\r\n        let li = document.createElement(\"li\");\r\n        let details_div = document.createElement(\"div\");\r\n        let note_options_div = document.createElement(\"div\");\r\n        //.............................comments.......................\r\n\r\n        //............date.................................\r\n        let date = array[i].date;\r\n        let date_timezone = new Date(date);\r\n        let date_string = date_timezone.toDateString();\r\n        let time_string = date_timezone.toLocaleTimeString();\r\n        //.............................................\r\n        //...............................note..................................\r\n        let note_p = document.createElement(\"p\");\r\n        note_p.textContent = array[i].note;\r\n        note_p.setAttribute(\"class\", \"note_p\");\r\n        note_options_div.setAttribute(\"class\", \"fr note_options_div\");\r\n        note_options_div.setAttribute(\"id\", \"note_options_div\" + i);\r\n        note_options_div.appendChild(note_p);\r\n        //.......................Options....................................\r\n        let options_div = document.createElement(\"div\");\r\n        options_div.setAttribute(\"class\", \"options_div\");\r\n        //............................Poster name.......................\r\n        let postername_p = document.createElement(\"p\");\r\n        postername_p.setAttribute(\"class\", \"postername_p\");\r\n        details_div.appendChild(postername_p);\r\n        //..................................\r\n        if (array[i].id === this.state.my_id) {\r\n          postername_p.textContent = \"Mine\";\r\n          let p_delete = document.createElement(\"p\");\r\n          let p_edit = document.createElement(\"p\");\r\n          p_delete.style.cursor = \"pointer\";\r\n          p_edit.style.cursor = \"pointer\";\r\n          p_delete.textContent = \"Delete\";\r\n          p_edit.textContent = \"Edit\";\r\n          options_div.appendChild(p_delete);\r\n          options_div.appendChild(p_edit);\r\n          p_delete.addEventListener(\"click\", () => {\r\n            this.setState({ posts_deleted: true });\r\n            this.deletePost(options_div.id);\r\n          });\r\n          p_edit.addEventListener(\"click\", () => this.editPost(options_div.id));\r\n          note_options_div.appendChild(options_div);\r\n          options_div.setAttribute(\r\n            \"class\",\r\n            \"fc MountPosts_postOptionsContainer\"\r\n          );\r\n          options_div.setAttribute(\"id\", array[i]._id);\r\n        } else {\r\n          postername_p.textContent =\r\n            array[i].firstname + \" \" + array[i].lastname;\r\n        }\r\n        //........................................................................\r\n\r\n        //.....................................................................\r\n        li.className = \"fc\";\r\n\r\n        date_p.innerHTML =\r\n          \"<i class='far fa-clock'></i>\" +\r\n          \"  \" +\r\n          date_string +\r\n          \", \" +\r\n          time_string;\r\n        category_p.textContent = \"Category: \" + array[i].category;\r\n        subject_p.textContent = \"Subject: \" + array[i].subject;\r\n        reference_p.textContent = \"Reference: \" + array[i].reference;\r\n        page_p.textContent = \"Page #: \" + array[i].page_num;\r\n        date_p.className = \"MountPosts_date\";\r\n        details_div.appendChild(date_p);\r\n        details_div.appendChild(category_p);\r\n        details_div.appendChild(subject_p);\r\n        details_div.setAttribute(\"class\", \"fr details_div\");\r\n        //...................comments...............\r\n        let comments_div = document.createElement(\"div\");\r\n        let comment_input = document.createElement(\"input\");\r\n        let commentlist_ul = document.createElement(\"ul\");\r\n        comments_div.appendChild(comment_input);\r\n        comments_div.setAttribute(\"class\", \"fc comments_div\");\r\n        comments_div.setAttribute(\"id\", \"commentDiv\" + array[i]._id);\r\n        comment_input.setAttribute(\"id\", \"comment_input\" + array[i]._id);\r\n        comment_input.setAttribute(\"class\", \"comment_input\");\r\n        commentlist_ul.setAttribute(\"id\", \"commentlist_ul\" + array[i]._id);\r\n        comment_input.setAttribute(\"placeholder\", \"Enter a comment\");\r\n        comment_input.addEventListener(\"keypress\", (event) => {\r\n          this.postComment(event, comments_div.id, comment_input.id);\r\n        });\r\n        array[i].comments.forEach((comment) => {\r\n          let comment_li = document.createElement(\"li\");\r\n          comment_li.textContent = comment;\r\n          comment_li.setAttribute(\"class\", \"comment_li\");\r\n          commentlist_ul.setAttribute(\"class\", \"fc commentlist_ul\");\r\n          commentlist_ul.prepend(comment_li);\r\n          comments_div.appendChild(commentlist_ul);\r\n        });\r\n        //.....................................................\r\n\r\n        if (!(array[i].reference === \"\" && array[i].page_num !== null)) {\r\n          if (array[i].reference !== \"\") details_div.appendChild(reference_p);\r\n          if (array[i].page_num !== null) details_div.appendChild(page_p);\r\n        }\r\n        li.setAttribute(\"id\", \"li\" + array[i]._id);\r\n        li.appendChild(details_div);\r\n        li.appendChild(note_options_div);\r\n        li.appendChild(comments_div);\r\n        ul.appendChild(li);\r\n        this.setState({\r\n          app_is_loading: false,\r\n        });\r\n      }\r\n      array_associate[i] = array[i]._id;\r\n    }\r\n  };\r\n  searchTerminology = (array) => {\r\n    if (array) {\r\n      array.forEach((term) => {\r\n        let ul = document.getElementById(\"Terminology_content_container\");\r\n        let p1 = document.createElement(\"p\");\r\n        let p2 = document.createElement(\"p\");\r\n        let p3 = document.createElement(\"p\");\r\n        let p4 = document.createElement(\"p\");\r\n        let p5 = document.createElement(\"p\");\r\n        let p6 = document.createElement(\"p\");\r\n        let li = document.createElement(\"li\");\r\n        p1.textContent = term.term;\r\n        p1.style.fontSize = \"16pt\";\r\n        p1.style.textAlign = \"center\";\r\n        p1.style.backgroundColor = \"var(--white)\";\r\n        p1.style.color = \"var(--black)\";\r\n        p2.textContent = term.meaning;\r\n        p2.style.fontSize = \"14pt\";\r\n        p3.textContent = term.category;\r\n        p3.style.fontSize = \"10pt\";\r\n        p3.style.textAlign = \"right\";\r\n        p4.textContent = term.subject;\r\n        p4.style.fontSize = \"10pt\";\r\n        p4.style.textAlign = \"right\";\r\n        p5.textContent = \"Delete\";\r\n        p5.style.backgroundColor = \"var(--red)\";\r\n        p5.style.width = \"fit-content\";\r\n        p5.style.padding = \"0 5px\";\r\n        p5.style.cursor = \"pointer\";\r\n        p5.addEventListener(\"click\", () => {\r\n          this.deleteTerminology(term._id);\r\n        });\r\n        p6.textContent = \"Edit\";\r\n        p6.style.backgroundColor = \"var(--red)\";\r\n        p6.style.width = \"fit-content\";\r\n        p6.style.padding = \"0 5px\";\r\n        p6.style.marginTop = \"5px\";\r\n\r\n        p6.style.cursor = \"pointer\";\r\n        p6.addEventListener(\"click\", () => {\r\n          this.editTerminology(term._id);\r\n        });\r\n        li.appendChild(p1);\r\n        li.appendChild(p2);\r\n        li.appendChild(p3);\r\n        li.appendChild(p4);\r\n        li.appendChild(p5);\r\n        li.appendChild(p6);\r\n        li.setAttribute(\"id\", \"li_term\" + term._id);\r\n        ul.prepend(li);\r\n      });\r\n      this.setState({\r\n        retrievingTerminology_DONE: true,\r\n      });\r\n    }\r\n  };\r\n  show_profile = (boolean) => {\r\n    this.setState({\r\n      profile: boolean,\r\n    });\r\n  };\r\n  //.....Reander Login HTML..........\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <Route exact path=\"/\">\r\n          <article id=\"app_page\" className=\"fc\">\r\n            <main id=\"Main_article\" className=\"fr\">\r\n              <Greeting state={this.state} />\r\n            </main>\r\n          </article>\r\n        </Route>\r\n        <Route exact path=\"/studyplanner\">\r\n          <StudyPlanner\r\n            state={this.state}\r\n            logOut={this.logOut}\r\n            acceptFriend={this.acceptFriend}\r\n            type={this.type}\r\n            show_profile={this.show_profile}\r\n          />\r\n        </Route>\r\n        <Route exact path=\"/study\">\r\n          <article id=\"app_page\" className=\"fc\">\r\n            <Header\r\n              state={this.state}\r\n              logOut={this.logOut}\r\n              acceptFriend={this.acceptFriend}\r\n              type={this.type}\r\n              show_profile={this.show_profile}\r\n            />\r\n            <main id=\"Main_article\" className=\"fr\">\r\n              {parseInt(\r\n                window.getComputedStyle(document.querySelector(\"#root\")).width\r\n              ) > 1200 && (\r\n                <React.Fragment>\r\n                  {/* <Terminology\r\n                    state={this.state}\r\n                    postingTerminology={this.postingTerminology}\r\n                  /> */}\r\n                  {/* <Chat\r\n                    state={this.state}\r\n                    availableToChat={this.availableToChat}\r\n                    path=\"/\"\r\n                  /> */}\r\n                  {/* <section\r\n                    onClick={this.openNotesAside}\r\n                    className=\"fr\"\r\n                    id=\"Friends_control_door\"\r\n                    title=\"unclicked\"\r\n                  >\r\n                    {this.state.isOnline === true && (\r\n                      <i\r\n                        id=\"chat_icon\"\r\n                        style={{ color: \"#32cd32\" }}\r\n                        class=\"fas fa-users\"\r\n                      ></i>\r\n                    )}\r\n                    {this.state.isOnline === false && (\r\n                      <i id=\"chat_icon\" class=\"fas fa-users\"></i>\r\n                    )}\r\n                  </section> */}\r\n                  {/* <Posts /> */}\r\n                </React.Fragment>\r\n              )}\r\n              {/* {parseInt(\r\n                window.getComputedStyle(document.querySelector(\"#root\")).width\r\n              ) <= 1200 && (\r\n                <React.Fragment>\r\n                  <Friends\r\n                    state={this.state}\r\n              \r\n                    dbUpdate_user_connected={this.dbUpdate_user_connected}\r\n                    path=\"/study\"\r\n                    serverReply={this.serverReply}\r\n                  />\r\n                  <Terminology\r\n                    state={this.state}\r\n                    postingTerminology={this.postingTerminology}\r\n                  />\r\n                </React.Fragment>\r\n              )} */}\r\n            </main>\r\n            {/* <SearchPosts\r\n              type=\"posts_search\"\r\n              searchPosts={this.searchPosts}\r\n              prepare_searchPosts={this.prepare_searchPosts}\r\n              posts_alreadyBuilt={this.state.posts_alreadyBuilt}\r\n              posts_comments={this.state.posts_comments}\r\n              state={this.state}\r\n            /> */}\r\n          </article>\r\n        </Route>\r\n        <div\r\n          id=\"server_answer\"\r\n          onClick={() => {\r\n            document.getElementById(\"server_answer\").style.width = \"0\";\r\n          }}\r\n        >\r\n          <p id=\"server_answer_message\"></p>\r\n        </div>\r\n        {this.state.app_is_loading && (\r\n          <div\r\n            style={{\r\n              fontSize: \"20pt\",\r\n              display: \"flex\",\r\n              position: \"fixed\",\r\n              top: \"0\",\r\n              bottom: \"0\",\r\n              right: \"0\",\r\n              left: \"0\",\r\n              justifyContent: \"center\",\r\n              alignContent: \"center\",\r\n              flexDirection: \"column\",\r\n              zIndex: \"100\",\r\n            }}\r\n          >\r\n            <img\r\n              src=\"/img/loader.gif\"\r\n              alt=\"\"\r\n              width=\"70px\"\r\n              style={{\r\n                margin: \"auto\",\r\n              }}\r\n            />\r\n          </div>\r\n        )}\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\nexport default App;\r\n","C:\\Users\\Rodi\\Documents\\mctosh\\step1-frontend2\\src\\App\\Main\\Posts\\Posts.jsx",[],"C:\\Users\\Rodi\\Documents\\mctosh\\step1-frontend2\\src\\App\\Main\\Greeting\\Greeting.jsx",["136"],"C:\\Users\\Rodi\\Documents\\mctosh\\step1-frontend2\\src\\App\\Header\\Header.jsx",[],"C:\\Users\\Rodi\\Documents\\mctosh\\step1-frontend2\\src\\App\\Main\\Terminology\\Terminology.jsx",[],"C:\\Users\\Rodi\\Documents\\mctosh\\step1-frontend2\\src\\App\\Main\\Posts\\InputPost\\SearchPosts\\SearchPosts.jsx",[],"C:\\Users\\Rodi\\Documents\\mctosh\\step1-frontend2\\src\\App\\Main\\Posts\\MountPosts\\MountPosts.jsx",[],"C:\\Users\\Rodi\\Documents\\mctosh\\step1-frontend2\\src\\App\\Footer\\Footer.jsx",[],"C:\\Users\\Rodi\\Documents\\mctosh\\step1-frontend2\\src\\App\\Main\\Posts\\InputPost\\InputPost.jsx",[],"C:\\Users\\Rodi\\Documents\\mctosh\\step1-frontend2\\src\\App\\Header\\Nav\\Nav.jsx",["137","138","139","140","141"],"import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Dim from \"./Dim/Dim\";\r\nimport Logout from \"./Logout/Logout\";\r\nimport Menu from \"./Menu/Menu\";\r\nimport MessengerIcon from \"./MessengerIcon/MessengerIcon\";\r\nimport Notifications from \"./Notifications/Notifications\";\r\nimport ProfileIcon from \"./Profile/ProfileIcon\";\r\nimport Refresh from \"./Refresh/Refresh\";\r\nconst Nav = (props) => {\r\n  let app_page = document.getElementById(\"root\");\r\n  let width = window.getComputedStyle(app_page).width;\r\n      return (\r\n        <nav id=\"Nav_article\" className=\"fr\">\r\n          <Logout logOut={props.logOut} />\r\n          <Notifications\r\n            state={props.state}\r\n            acceptFriend={props.acceptFriend}\r\n          />\r\n          <Dim />\r\n          <Refresh />\r\n        </nav>\r\n      )\r\n};\r\n\r\nexport default Nav;\r\n","C:\\Users\\Rodi\\Documents\\mctosh\\step1-frontend2\\src\\App\\Header\\SearchUsers\\SearchUsers.jsx",[],"C:\\Users\\Rodi\\Documents\\mctosh\\step1-frontend2\\src\\App\\Header\\Nav\\Menu\\Menu.jsx",[],"C:\\Users\\Rodi\\Documents\\mctosh\\step1-frontend2\\src\\App\\Header\\Nav\\Notifications\\Notifications.jsx",[],"C:\\Users\\Rodi\\Documents\\mctosh\\step1-frontend2\\src\\App\\Header\\Nav\\Dim\\Dim.jsx",[],"C:\\Users\\Rodi\\Documents\\mctosh\\step1-frontend2\\src\\App\\Header\\Nav\\MessengerIcon\\MessengerIcon.jsx",[],"C:\\Users\\Rodi\\Documents\\mctosh\\step1-frontend2\\src\\App\\Header\\Nav\\Profile\\ProfileIcon.jsx",["142"],"import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst ProfileIcon = (props) => {\r\n  return (\r\n    <div>\r\n      {props.profile !== \"true\" && (\r\n        <i\r\n          class=\"fas fa-user-alt\"\r\n          onClick={() => {\r\n            props.show_profile(true);\r\n          }}\r\n          title=\"Profile\"\r\n        ></i>\r\n      )}\r\n      {props.profile === \"true\" && (\r\n        <i\r\n          class=\"fas fa-chevron-circle-left\"\r\n          onClick={() => {\r\n            window.location.reload();\r\n          }}\r\n        ></i>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProfileIcon;\r\n","C:\\Users\\Rodi\\Documents\\mctosh\\step1-frontend2\\src\\App\\Header\\Nav\\Logout\\Logout.jsx",[],"C:\\Users\\Rodi\\Documents\\mctosh\\step1-frontend2\\src\\App\\Header\\Nav\\Refresh\\Refresh.jsx",[],"C:\\Users\\Rodi\\Documents\\mctosh\\step1-frontend2\\src\\App\\SubApps\\Chat\\Chat.js",["143"],"import React from \"react\";\r\nimport Friends from \"../../Parts/Friends/Friends\";\r\n\r\nclass Chat extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n  //.........VARIABLES.........\r\n  textarea = document.getElementById(\"Chat_textarea_input\");\r\n  //...........................................Preperation..................................................\r\n  preparingChat = () => {\r\n    let url =\r\n      \"https://backendstep.onrender.com/api/chat/prepareChat/\" +\r\n      this.state.my_id;\r\n    let options = {\r\n      method: \"POST\",\r\n      mode: \"cors\",\r\n      headers: {\r\n        Authorization: \"Bearer \" + this.state.token,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    };\r\n    let req = new Request(url, options);\r\n    fetch(req);\r\n  };\r\n  //.....BUILD CHAT FOR A SPECIFIC FRIEND\r\n  RetrievingMySendingMessages = (friend_id) => {\r\n    var messages = [];\r\n    let ul = document.getElementById(\"Chat_messages\");\r\n    ul.innerHTML = \"\";\r\n    for (var i = 0; i < this.state.chat.length; i++) {\r\n      if (\r\n        messages[i] !== this.state.chat[i].date &&\r\n        friend_id === this.state.chat[i]._id\r\n      ) {\r\n        document\r\n          .getElementById(\"Chat_messages\")\r\n          .scrollBy(0, document.getElementById(\"Chat_messages\").scrollHeight);\r\n\r\n        if (this.state.chat[i].from === \"me\") {\r\n          let p = document.createElement(\"p\");\r\n          let li = document.createElement(\"li\");\r\n          let div = document.createElement(\"div\");\r\n          p.textContent = this.state.chat[i].message;\r\n          li.setAttribute(\"class\", \"sentMessagesLI\");\r\n          li.appendChild(p);\r\n          div.setAttribute(\"class\", \"sentMessagesDIV fc\");\r\n          div.appendChild(li);\r\n          ul.appendChild(div);\r\n        }\r\n        if (this.state.chat[i].from === \"them\") {\r\n          let p = document.createElement(\"p\");\r\n          let li = document.createElement(\"li\");\r\n          let div = document.createElement(\"div\");\r\n          p.textContent = this.state.chat[i].message;\r\n          li.setAttribute(\"class\", \"receivedMessagesLI\");\r\n          li.appendChild(p);\r\n          div.setAttribute(\"class\", \"receivedMessagesDIV fc\");\r\n          div.appendChild(li);\r\n          ul.appendChild(div);\r\n        }\r\n      }\r\n      messages[i] = this.state.chat[i].date;\r\n    }\r\n  };\r\n  //..........END OF BUILD CHAT FOR A SPECIFIC FRIEND\r\n  //..........SEND A MESSAGE TO A SPECIFIC FRIEND\r\n  sendToThemMessage = (message) => {\r\n    this.textarea.style.height = \"70px\";\r\n    if (message && message.trim() !== \"\") {\r\n      let url =\r\n        \"https://backendstep.onrender.com/api/chat/sendMessage/\" +\r\n        this.state.friendID_selected +\r\n        \"/\" +\r\n        this.state.my_id;\r\n      let options = {\r\n        method: \"POST\",\r\n        mode: \"cors\",\r\n        headers: {\r\n          Authorization: \"Bearer \" + this.state.token,\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({\r\n          message: document.getElementById(\"Chat_textarea_input\").value,\r\n        }),\r\n      };\r\n      let req = new Request(url, options);\r\n      fetch(req).then((result) => {\r\n        if (result.status === 201) {\r\n          document.getElementById(\"Chat_textarea_input\").value = \"\";\r\n        }\r\n      });\r\n    } else {\r\n      this.serverReply(\"You can't send an empty message\");\r\n    }\r\n  };\r\n  //........END OF SEND A MESSAGE TO A SPECIFIC FRIEND......\r\n  auto_grow = (event) => {\r\n    this.textarea.style.height = this.textarea.scrollHeight + \"px\";\r\n    if (event.which === 8) {\r\n      this.textarea.style.height = this.textarea.scrollHeight + \"px\";\r\n    }\r\n  };\r\n\r\n  send_by_enter = (event) => {\r\n    if (event.which === 13) {\r\n      this.sendToThemMessage(this.textarea.value);\r\n    }\r\n  };\r\n\r\n  openNotesAside = () => {\r\n    let Friends_content_container = document.getElementById(\r\n      \"Friends_content_container\"\r\n    );\r\n    let searchPosts = document.getElementById(\"SearchPosts_article\");\r\n    let Friends_article = document.getElementById(\"Friends_article\");\r\n    let Friends_control_door = document.getElementById(\"Friends_control_door\");\r\n    let app_page = document.querySelector(\"#app_page\");\r\n    let app_page_css = window.getComputedStyle(app_page);\r\n    let Header_article = document.getElementById(\"Header_article\");\r\n    if (Friends_control_door.title === \"unclicked\") {\r\n      this.dbUpdate_user_connected(true);\r\n      if (parseInt(app_page_css.width) >= 1500) {\r\n        Friends_content_container.style.width = \"400px\";\r\n      }\r\n\r\n      if (parseInt(app_page_css.width) < 1200) {\r\n        searchPosts.style.display = \"none\";\r\n        Friends_article.style.height = \"100vh\";\r\n        Friends_content_container.style.height = \"100%\";\r\n        Header_article.style.display = \"none\";\r\n      }\r\n      Friends_control_door.title = \"clicked\";\r\n    } else {\r\n      // this.dbUpdate_user_connected(false);\r\n      if (parseInt(app_page_css.width) < 1200) {\r\n        Header_article.style.display = \"flex\";\r\n        searchPosts.style.display = \"flex\";\r\n        Friends_article.style.height = \"initial\";\r\n        Friends_content_container.style.height = \"0\";\r\n      } else {\r\n        Friends_content_container.style.width = \"0\";\r\n      }\r\n      Friends_control_door.title = \"unclicked\";\r\n    }\r\n  };\r\n  render() {\r\n    return (\r\n      <aside id=\"Chat_article\" className=\"fc\">\r\n        <section id=\"Chat_title_container\" className=\"fr\">\r\n          <i\r\n            class=\"fas fa-chevron-circle-left\"\r\n            id=\"Chat_goback_icon\"\r\n            onClick={() => {\r\n              document.getElementById(\"Chat_goback_icon\").style.display =\r\n                \"none\";\r\n              document.getElementById(\"Chat_article\").style.height = \"0\";\r\n              document.getElementById(\"FriendsList_article\").style.height =\r\n                \"100%\";\r\n              document.getElementById(\r\n                \"DropHorizontally_article\"\r\n              ).style.display = \"flex\";\r\n            }}\r\n          ></i>\r\n          <h1 id=\"Chat_title_text\">\r\n            {/* {props.state.friend_target === true && \"Typing...\"} */}\r\n          </h1>\r\n        </section>\r\n        <ul id=\"Chat_messages\"></ul>\r\n        <section id=\"Chat_form\" className=\"fr\">\r\n          <textarea\r\n            id=\"Chat_textarea_input\"\r\n            onKeyDown={(event) => {\r\n              this.auto_grow(event);\r\n              this.send_by_enter(event);\r\n            }}\r\n          ></textarea>\r\n          <button id=\"Chat_submit_button\">\r\n            <i\r\n              class=\"fc far fa-paper-plane\"\r\n              onClick={() => {\r\n                this.sendToThemMessage(this.textarea.value);\r\n              }}\r\n            ></i>\r\n          </button>\r\n        </section>\r\n      </aside>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Chat;\r\n","C:\\Users\\Rodi\\Documents\\mctosh\\step1-frontend2\\src\\App\\Parts\\Friends\\Friends.jsx",[],"C:\\Users\\Rodi\\Documents\\mctosh\\step1-frontend2\\src\\App\\Parts\\Friends\\DropHorizontally.jsx",[],"C:\\Users\\Rodi\\Documents\\mctosh\\step1-frontend2\\src\\App\\Parts\\Friends\\FriendsList\\FriendsList.jsx",[],"C:\\Users\\Rodi\\Documents\\mctosh\\step1-frontend2\\src\\App\\Parts\\Friends\\AddFriend\\AddFriend.jsx",[],"C:\\Users\\Rodi\\Documents\\mctosh\\step1-frontend2\\src\\App\\SubApps\\StudyPlannner\\StudyPlanner.js",["144"],"C:\\Users\\Rodi\\Documents\\mctosh\\step1-frontend2\\src\\App\\SubApps\\StudyPlannner\\components\\LecturesOrganizer.jsx",["145","146","147"],"import React from 'react'\r\n\r\nconst LecturesOrganizer = () => {\r\n    const addLecture=()=>{}\r\n    const deleteLecture=()=>{}\r\n    const editLecture=()=>{}\r\n\r\n  return (\r\n    <article className=\"fc\">\r\n       \r\n      <form id=\"\"  className=\"fc\">\r\n        <input id=\"name_input\" placeholder=\"password\"/>\r\n        <input id=\"name_input\" placeholder=\"password\"/>\r\n        <input id=\"name_input\" placeholder=\"password\"/>\r\n      </form>\r\n    </article>\r\n  )\r\n}\r\n\r\nexport default LecturesOrganizer\r\n",{"ruleId":"148","replacedBy":"149"},{"ruleId":"150","replacedBy":"151"},{"ruleId":"152","severity":1,"message":"153","line":37,"column":5,"nodeType":"154","messageId":"155","endLine":61,"endColumn":6},{"ruleId":"156","severity":1,"message":"157","line":25,"column":8,"nodeType":"158","messageId":"159","endLine":25,"endColumn":19},{"ruleId":"156","severity":1,"message":"160","line":26,"column":8,"nodeType":"158","messageId":"159","endLine":26,"endColumn":13},{"ruleId":"156","severity":1,"message":"161","line":28,"column":8,"nodeType":"158","messageId":"159","endLine":28,"endColumn":19},{"ruleId":"156","severity":1,"message":"162","line":30,"column":8,"nodeType":"158","messageId":"159","endLine":30,"endColumn":12},{"ruleId":"163","severity":1,"message":"164","line":199,"column":13,"nodeType":"165","endLine":199,"endColumn":38},{"ruleId":"163","severity":1,"message":"164","line":208,"column":13,"nodeType":"165","endLine":208,"endColumn":38},{"ruleId":"163","severity":1,"message":"164","line":344,"column":11,"nodeType":"165","endLine":344,"endColumn":40},{"ruleId":"163","severity":1,"message":"164","line":345,"column":11,"nodeType":"165","endLine":345,"endColumn":36},{"ruleId":"163","severity":1,"message":"164","line":393,"column":17,"nodeType":"165","endLine":393,"endColumn":42},{"ruleId":"163","severity":1,"message":"164","line":403,"column":17,"nodeType":"165","endLine":403,"endColumn":42},{"ruleId":"156","severity":1,"message":"166","line":1676,"column":13,"nodeType":"158","messageId":"159","endLine":1676,"endColumn":20},{"ruleId":"163","severity":1,"message":"164","line":1702,"column":9,"nodeType":"165","endLine":1702,"endColumn":19},{"ruleId":"156","severity":1,"message":"167","line":3,"column":8,"nodeType":"158","messageId":"159","endLine":3,"endColumn":14},{"ruleId":"156","severity":1,"message":"168","line":2,"column":10,"nodeType":"158","messageId":"159","endLine":2,"endColumn":14},{"ruleId":"156","severity":1,"message":"169","line":5,"column":8,"nodeType":"158","messageId":"159","endLine":5,"endColumn":12},{"ruleId":"156","severity":1,"message":"170","line":6,"column":8,"nodeType":"158","messageId":"159","endLine":6,"endColumn":21},{"ruleId":"156","severity":1,"message":"171","line":8,"column":8,"nodeType":"158","messageId":"159","endLine":8,"endColumn":19},{"ruleId":"156","severity":1,"message":"172","line":12,"column":7,"nodeType":"158","messageId":"159","endLine":12,"endColumn":12},{"ruleId":"156","severity":1,"message":"168","line":2,"column":10,"nodeType":"158","messageId":"159","endLine":2,"endColumn":14},{"ruleId":"156","severity":1,"message":"173","line":2,"column":8,"nodeType":"158","messageId":"159","endLine":2,"endColumn":15},{"ruleId":"156","severity":1,"message":"174","line":3,"column":8,"nodeType":"158","messageId":"159","endLine":3,"endColumn":25},{"ruleId":"156","severity":1,"message":"175","line":4,"column":11,"nodeType":"158","messageId":"159","endLine":4,"endColumn":21},{"ruleId":"156","severity":1,"message":"176","line":5,"column":11,"nodeType":"158","messageId":"159","endLine":5,"endColumn":24},{"ruleId":"156","severity":1,"message":"177","line":6,"column":11,"nodeType":"158","messageId":"159","endLine":6,"endColumn":22},"no-native-reassign",["178"],"no-negated-in-lhs",["179"],"default-case","Expected a default case.","SwitchStatement","missingDefaultCase","no-unused-vars","'Terminology' is defined but never used.","Identifier","unusedVar","'Posts' is defined but never used.","'SearchPosts' is defined but never used.","'Chat' is defined but never used.","react/no-direct-mutation-state","Do not mutate state directly. Use setState().","MemberExpression","'deleted' is assigned a value but never used.","'Footer' is defined but never used.","'Link' is defined but never used.","'Menu' is defined but never used.","'MessengerIcon' is defined but never used.","'ProfileIcon' is defined but never used.","'width' is assigned a value but never used.","'Friends' is defined but never used.","'LecturesOrganizer' is defined but never used.","'addLecture' is assigned a value but never used.","'deleteLecture' is assigned a value but never used.","'editLecture' is assigned a value but never used.","no-global-assign","no-unsafe-negation"]